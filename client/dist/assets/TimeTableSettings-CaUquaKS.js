var y=Object.defineProperty;var W=(f,t,a)=>t in f?y(f,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):f[t]=a;var c=(f,t,a)=>W(f,typeof t!="symbol"?t+"":t,a);import{A as S,d as k,u as D,q as E,y as M,B,k as P,h as u,a as o,b as l,w as Y,r as z,c as O,l as _,b2 as w,V as H,g as F,t as T,a1 as $,f as V,F as q,o as L,R as K,_ as J}from"./index-CHrOVu2g.js";import{V as Q}from"./VDialog-7M3TaIYt.js";import{a as U,V as X}from"./VCard-Cysj4ihK.js";import{V as Z}from"./ssrBoot-xQqBeRGC.js";import{V as j}from"./VSwitch-WHCjc9oH.js";import{V as tt,c as et}from"./VSelect-CDucnF77.js";const g=class g{static getChannelHeaderHeight(t){const a=Math.round(Math.min(46,Math.max(32,t*.3))),i=Math.round(a*(2/3))+20;return Math.max(50,i)}static getTimeScaleColor(t){if(t>=28){const s=t-24;return this.TIME_SCALE_COLORS[s]||this.TIME_SCALE_COLORS[4]}const a=(t%28+28)%28;return this.TIME_SCALE_COLORS[a]||this.TIME_SCALE_COLORS[0]}static getGenreColors(t,a){if(t===void 0)return this.GENRE_HIGHLIGHT_COLORS.White;const s=a;if(s[t]!==void 0)return this.GENRE_HIGHLIGHT_COLORS[s[t]];const i=t.replace(/\//g,"・");if(s[i]!==void 0)return this.GENRE_HIGHLIGHT_COLORS[s[i]];const n=t.replace(/・/g,"/");return s[n]!==void 0?this.GENRE_HIGHLIGHT_COLORS[s[n]]:this.GENRE_HIGHLIGHT_COLORS.White}static getChannelWidth(t,a){return this.CHANNEL_WIDTH[a][t]}static getHourHeight(t,a){return this.HOUR_HEIGHT[a][t]}static getTimeScaleWidth(t,a){return t==="Smartphone"&&a?this.TIME_SCALE_WIDTH_SMARTPHONE_VERTICAL:this.TIME_SCALE_WIDTH}static calculateProgramY(t,a,s,i=g.CHANNEL_HEADER_HEIGHT){const m=(t.valueOf()-a.valueOf())/(1e3*60*60);return i+m*s}static calculateProgramHeight(t,a){return t/3600*a}static calculateCurrentTimeY(t,a,s,i=g.CHANNEL_HEADER_HEIGHT){return this.calculateProgramY(t,a,s,i)}static calculateTotalHeight(t){return this.CHANNEL_HEADER_HEIGHT+24*t}static calculateTimeFromY(t,a,s,i=g.CHANNEL_HEADER_HEIGHT){const p=(t-i)/s*60*60*1e3;return a.add(p,"millisecond")}static formatTime(t,a){let s=t.hour();const i=t.minute();a&&s>=0&&s<4&&(s+=24);const n=s.toString().padStart(2,"0"),m=i.toString().padStart(2,"0");return`${n}:${m}`}static formatHour(t,a){return a&&t>=0&&t<4?t+24:t}static getDeviceType(){const t=window.innerWidth;return t<600?"Smartphone":t<1280?"Tablet":"PC"}static throttle(t,a){let s=0,i=null;return function(...n){const m=S().valueOf(),p=a-(m-s);p<=0?(i!==null&&(clearTimeout(i),i=null),s=m,t.apply(this,n)):i===null&&(i=setTimeout(()=>{s=S().valueOf(),i=null,t.apply(this,n)},p))}}static debounce(t,a){let s=null;return function(...i){s!==null&&clearTimeout(s),s=setTimeout(()=>{t.apply(this,i)},a)}}};c(g,"TIME_SCALE_COLORS",{4:"#1a4d3a",5:"#2d5a4a",6:"#3d6a5a",7:"#4d7a6a",8:"#3d6a7a",9:"#4d7a8a",10:"#5d8a9a",11:"#6d9aaa",12:"#7daaba",13:"#8db0c0",14:"#9db0c8",15:"#a8b0d0",16:"#9a8ab0",17:"#a07aa8",18:"#a86a9a",19:"#b05a8a",20:"#8a4a7a",21:"#7a4a6a",22:"#6a4a5a",23:"#5a4a5a",24:"#4a4a6a",25:"#3a4a5a",26:"#2a4a4a",27:"#1a4a3a",0:"#4a4a6a",1:"#3a4a5a",2:"#2a4a4a",3:"#1a4a3a"}),c(g,"GENRE_HIGHLIGHT_COLORS",{White:{highlight:"#ffffff",background:"#f8f8f8"},Yellow:{highlight:"#ffeb3b",background:"#fffde7"},Lime:{highlight:"#8bc34a",background:"#f1f8e9"},Blue:{highlight:"#03a9f4",background:"#e1f5fe"},Pink:{highlight:"#b55cd6",background:"#f2e6fb"},Red:{highlight:"#f44336",background:"#ffebee"},Orange:{highlight:"#ff9800",background:"#fff3e0"},Brown:{highlight:"#795548",background:"#efebe9"},Teal:{highlight:"#009688",background:"#e0f2f1"}}),c(g,"EMPTY_CELL_BACKGROUND_COLOR","#616161"),c(g,"CHANNEL_WIDTH",{PC:{Wide:180,Normal:150,Narrow:120},Tablet:{Wide:150,Normal:120,Narrow:100},Smartphone:{Wide:120,Normal:100,Narrow:80}}),c(g,"HOUR_HEIGHT",{PC:{Wide:240,Normal:180,Narrow:120},Tablet:{Wide:200,Normal:150,Narrow:100},Smartphone:{Wide:160,Normal:120,Narrow:80}}),c(g,"TIME_SCALE_WIDTH",50),c(g,"TIME_SCALE_WIDTH_SMARTPHONE_VERTICAL",30),c(g,"CHANNEL_HEADER_HEIGHT",54);let I=g;const at={class:"px-5 pb-6"},st={class:"settings__item",style:{"margin-top":"16px"}},it={class:"settings__item-heading"},lt={class:"settings__item"},ot={class:"settings__item-heading"},nt={class:"settings__item settings__item--switch"},rt={class:"settings__item-heading",for:"timetable_hover_expand"},dt={class:"settings__item"},ut={class:"settings__item-heading"},gt={class:"timetable-settings-dialog__genre-list"},_t={class:"timetable-settings-dialog__genre-name"},mt=k({__name:"TimeTableSettings",props:{isOpen:{type:Boolean}},emits:["update:isOpen"],setup(f,{emit:t}){const a=f,s=t,i=D(),n=E({get:()=>a.isOpen,set:r=>{s("update:isOpen",r)}}),m=E({get:()=>i.settings.timetable_channel_width,set:r=>{i.settings.timetable_channel_width=r}}),p=E({get:()=>i.settings.timetable_hour_height,set:r=>{i.settings.timetable_hour_height=r}}),C=E({get:()=>i.settings.timetable_hover_expand,set:r=>{i.settings.timetable_hover_expand=r}}),v=M({...i.settings.timetable_genre_colors}),R=["ニュース・報道","スポーツ","情報・ワイドショー","ドラマ","音楽","バラエティ","映画","アニメ・特撮","ドキュメンタリー・教養","劇場・公演","趣味・教育","福祉","その他"],G=[{title:"白",value:"White"},{title:"黄色",value:"Yellow"},{title:"黄緑",value:"Lime"},{title:"青",value:"Blue"},{title:"ピンク",value:"Pink"},{title:"赤",value:"Red"},{title:"オレンジ",value:"Orange"},{title:"黄土色",value:"Brown"},{title:"青緑",value:"Teal"}];function N(r){return I.GENRE_HIGHLIGHT_COLORS[r].highlight}function x(r,e){v.value[r]=e,i.settings.timetable_genre_colors={...v.value}}return B(n,r=>{r&&(v.value={...i.settings.timetable_genre_colors})}),(r,e)=>{const b=z("Icon");return L(),P(Q,{"max-width":"700",transition:"slide-y-transition",modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=d=>n.value=d)},{default:u(()=>[o(X,{class:"timetable-settings-dialog"},{default:u(()=>[o(U,{class:"px-5 pt-6 pb-3 d-flex align-center font-weight-bold",style:{height:"60px"}},{default:u(()=>[o(b,{icon:"fluent:settings-20-regular",height:"26px"}),e[5]||(e[5]=l("span",{class:"ml-3"},"番組表の表示設定",-1)),o(Z),Y((L(),O("div",{class:"d-flex align-center rounded-circle cursor-pointer px-2 py-2",onClick:e[0]||(e[0]=d=>n.value=!1)},[o(b,{icon:"fluent:dismiss-12-filled",width:"23px",height:"23px"})])),[[K]])]),_:1}),l("div",at,[l("div",st,[l("label",it,[o(b,{icon:"fluent:arrow-autofit-width-20-regular",width:"20px"}),e[6]||(e[6]=l("span",{class:"ml-2"},"チャンネル名の表示幅を調整",-1))]),e[10]||(e[10]=l("label",{class:"settings__item-label"},[_(" 各チャンネルの列幅を調整します。広めにすると番組名が見やすくなります。"),l("br")],-1)),o(w,{class:"settings__item-form timetable-settings-dialog__toggle",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=d=>m.value=d),mandatory:"",density:"comfortable"},{default:u(()=>[o(H,{value:"Wide"},{default:u(()=>[...e[7]||(e[7]=[_("広め",-1)])]),_:1}),o(H,{value:"Normal"},{default:u(()=>[...e[8]||(e[8]=[_("標準",-1)])]),_:1}),o(H,{value:"Narrow"},{default:u(()=>[...e[9]||(e[9]=[_("狭め",-1)])]),_:1})]),_:1},8,["modelValue"])]),l("div",lt,[l("label",ot,[o(b,{icon:"fluent:arrow-autofit-height-20-regular",width:"20px"}),e[11]||(e[11]=l("span",{class:"ml-2"},"時間軸の表示密度を調整",-1))]),e[15]||(e[15]=l("label",{class:"settings__item-label"},[_(" 番組表の縦方向の表示密度を調整します。広めにすると番組詳細が見やすくなります。"),l("br")],-1)),o(w,{class:"settings__item-form timetable-settings-dialog__toggle",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=d=>p.value=d),mandatory:"",density:"comfortable"},{default:u(()=>[o(H,{value:"Wide"},{default:u(()=>[...e[12]||(e[12]=[_("広め",-1)])]),_:1}),o(H,{value:"Normal"},{default:u(()=>[...e[13]||(e[13]=[_("標準",-1)])]),_:1}),o(H,{value:"Narrow"},{default:u(()=>[...e[14]||(e[14]=[_("狭め",-1)])]),_:1})]),_:1},8,["modelValue"])]),l("div",nt,[l("label",rt,[o(b,{icon:"fluent:cursor-hover-20-regular",width:"20px"}),e[16]||(e[16]=l("span",{class:"ml-2"},"マウスを重ねた時に番組詳細を自動表示",-1))]),e[17]||(e[17]=l("label",{class:"settings__item-label",for:"timetable_hover_expand"},[_(" PC でマウスを番組に重ねた時に、クリックせずに番組情報を展開表示します。"),l("br")],-1)),o(j,{class:"settings__item-switch",color:"primary",id:"timetable_hover_expand","hide-details":"",modelValue:C.value,"onUpdate:modelValue":e[3]||(e[3]=d=>C.value=d)},null,8,["modelValue"])]),l("div",dt,[l("label",ut,[o(b,{icon:"fluent:color-20-regular",width:"20px"}),e[18]||(e[18]=l("span",{class:"ml-2"},"ジャンル別のハイライト色",-1))]),e[19]||(e[19]=l("label",{class:"settings__item-label"},[_(" 各ジャンルの番組セルに表示するハイライト色を設定します。"),l("br"),_(" よく見るジャンルに色を付けると、より番組を見つけやすくなります。"),l("br")],-1)),l("div",gt,[(L(),O(q,null,F(R,d=>l("div",{class:"timetable-settings-dialog__genre-item",key:d},[l("span",_t,T(d),1),o(tt,{class:"timetable-settings-dialog__genre-select",variant:"outlined",density:"compact","hide-details":"",items:G,modelValue:v.value[d],"onUpdate:modelValue":[h=>v.value[d]=h,h=>x(d,h)]},{selection:u(({item:h})=>[l("div",{class:"timetable-settings-dialog__color-preview",style:V({background:N(h.value)})},null,4),l("span",null,T(h.title),1)]),item:u(({item:h,props:A})=>[o(et,$({ref_for:!0},A),{prepend:u(()=>[l("div",{class:"timetable-settings-dialog__color-preview",style:V({background:N(h.value)})},null,4)]),_:2},1040)]),_:1},8,["modelValue","onUpdate:modelValue"])])),64))])])])]),_:1})]),_:1},8,["modelValue"])}}}),Et=J(mt,[["__scopeId","data-v-f075dbbd"]]);export{I as T,Et as a};
