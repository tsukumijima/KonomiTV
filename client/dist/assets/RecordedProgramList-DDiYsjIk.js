import{d as E,k as M,h as l,a as t,b as e,w as k,r as x,c as n,e as v,t as m,A as y,U as V,P as z,L as ee,F as R,o as a,R as S,_ as F,q as I,u as oe,E as Y,n as P,l as f,f as re,p as B,j as te,O as se,V as O,M as w,a3 as ie,s as D,g as de,B as ae}from"./index-LAad4Byq.js";import{V as j}from"./VDialog-C7_a2vyy.js";import{a as q,V as G,b as le,c as ne}from"./VCard-B4xQdbk7.js";import{V as J}from"./ssrBoot-I62HS5Wa.js";import{V as A}from"./Videos-BVhyNi1f.js";import{b as me,V as C,a as H,c as pe,d as ue}from"./VSelect-Bx-_McOF.js";import{b as _e}from"./VTextField-BGL7RXa1.js";import{V as ge}from"./VPagination-ZIWFO-zy.js";const ve={class:"px-5 pb-6"},ce={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-2"},fe={class:"video-info__item"},he={class:"video-info__item-value"},ye={class:"video-info__item"},we={class:"video-info__item-value"},be={class:"video-info__item"},ke={class:"video-info__item-value"},$e={class:"video-info__item"},Me={class:"video-info__item-value"},Ve={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Be={class:"video-info__item"},Ce={class:"video-info__item-value"},He={class:"video-info__item"},Se={class:"video-info__item-value"},Ie={class:"video-info__item"},Pe={class:"video-info__item-value"},Re={class:"video-info__item"},Le={class:"video-info__item-value"},ze={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Te={class:"video-info__item"},De={class:"video-info__item-value"},xe={class:"video-info__item"},Ue={class:"video-info__item-value"},We={class:"video-info__item"},Ae={class:"video-info__item-value"},Oe={key:0,class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Ee={class:"video-info__item"},Fe={class:"video-info__item-value"},Ne={class:"video-info__item"},Ye={class:"video-info__item-value"},je={class:"video-info__item"},qe={class:"video-info__item-value"},Ge=E({__name:"RecordedFileInfoDialog",props:{program:{},show:{type:Boolean}},emits:["update:show"],setup(T){return(d,r)=>{const c=x("Icon");return a(),M(j,{"max-width":"770",transition:"slide-y-transition","model-value":d.show,"onUpdate:modelValue":r[1]||(r[1]=h=>d.$emit("update:show",h))},{default:l(()=>[t(q,{class:"video-info"},{default:l(()=>[t(G,{class:"px-5 pt-6 pb-3 d-flex align-center font-weight-bold",style:{height:"60px"}},{default:l(()=>[t(c,{icon:"fluent:document-20-filled",height:"26px"}),r[2]||(r[2]=e("span",{class:"ml-3"},"録画ファイル情報",-1)),t(J),k((a(),n("div",{class:"d-flex align-center rounded-circle cursor-pointer px-2 py-2",onClick:r[0]||(r[0]=h=>d.$emit("update:show",!1))},[t(c,{icon:"fluent:dismiss-12-filled",width:"23px",height:"23px"})])),[[S]])]),_:1}),e("div",ve,[e("div",ce,[t(c,{icon:"fluent:video-clip-20-filled",width:"24px",height:"20px"}),r[3]||(r[3]=e("span",{class:"ml-2"},"ファイル情報",-1))]),e("div",fe,[r[4]||(r[4]=e("div",{class:"video-info__item-label"},"ファイルパス",-1)),e("div",he,m(d.program.recorded_video.file_path),1)]),e("div",ye,[r[5]||(r[5]=e("div",{class:"video-info__item-label"},"ファイルサイズ",-1)),e("div",we,m(y(V).formatBytes(d.program.recorded_video.file_size)),1)]),e("div",be,[r[6]||(r[6]=e("div",{class:"video-info__item-label"},"録画期間",-1)),e("div",ke,m(y(z).getRecordingTime(d.program)),1)]),e("div",$e,[r[7]||(r[7]=e("div",{class:"video-info__item-label"},"最終更新日時",-1)),e("div",Me,m(y(ee)(d.program.recorded_video.file_modified_at).format("YYYY/MM/DD (dd) HH:mm:ss")),1)]),e("div",Ve,[t(c,{icon:"fluent:video-20-filled",width:"24px",height:"20px"}),r[8]||(r[8]=e("span",{class:"ml-2"},"映像情報",-1))]),e("div",Be,[r[9]||(r[9]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Ce,m(d.program.recorded_video.video_codec)+" ("+m(d.program.recorded_video.video_codec_profile)+")",1)]),e("div",He,[r[10]||(r[10]=e("div",{class:"video-info__item-label"},"解像度",-1)),e("div",Se,m(d.program.recorded_video.video_resolution_width)+"×"+m(d.program.recorded_video.video_resolution_height),1)]),e("div",Ie,[r[11]||(r[11]=e("div",{class:"video-info__item-label"},"フレームレート",-1)),e("div",Pe,m(d.program.recorded_video.video_frame_rate)+" fps",1)]),e("div",Re,[r[12]||(r[12]=e("div",{class:"video-info__item-label"},"スキャン方式",-1)),e("div",Le,m(d.program.recorded_video.video_scan_type),1)]),e("div",ze,[t(c,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),r[13]||(r[13]=e("span",{class:"ml-2"},"音声情報（主音声）",-1))]),e("div",Te,[r[14]||(r[14]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",De,m(d.program.recorded_video.primary_audio_codec),1)]),e("div",xe,[r[15]||(r[15]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",Ue,m(d.program.recorded_video.primary_audio_channel),1)]),e("div",We,[r[16]||(r[16]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",Ae,m(d.program.recorded_video.primary_audio_sampling_rate?`${d.program.recorded_video.primary_audio_sampling_rate/1e3}kHz`:"不明"),1)]),d.program.recorded_video.secondary_audio_codec?(a(),n("div",Oe,[t(c,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),r[17]||(r[17]=e("span",{class:"ml-2"},"音声情報（副音声）",-1))])):v("",!0),d.program.recorded_video.secondary_audio_codec?(a(),n(R,{key:1},[e("div",Ee,[r[18]||(r[18]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Fe,m(d.program.recorded_video.secondary_audio_codec),1)]),e("div",Ne,[r[19]||(r[19]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",Ye,m(d.program.recorded_video.secondary_audio_channel),1)]),e("div",je,[r[20]||(r[20]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",qe,m(d.program.recorded_video.secondary_audio_sampling_rate?`${d.program.recorded_video.secondary_audio_sampling_rate/1e3}kHz`:"不明"),1)])],64)):v("",!0)])]),_:1})]),_:1},8,["model-value"])}}}),Je=F(Ge,[["__scopeId","data-v-66a6f916"]]),Ke={class:"recorded-program__container"},Qe={class:"recorded-program__thumbnail"},Xe=["src"],Ze={class:"recorded-program__thumbnail-duration"},eo={key:0,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--recording"},oo={key:1,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--analyzing"},ro={key:2,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--partial"},to={key:3,class:"recorded-program__thumbnail-progress"},so={class:"recorded-program__content"},io=["innerHTML"],ao={class:"recorded-program__content-meta"},lo={key:0,class:"recorded-program__content-meta-broadcaster"},no=["src"],mo={class:"recorded-program__content-meta-broadcaster-name"},po={key:1,class:"recorded-program__content-meta-broadcaster"},uo={class:"recorded-program__content-meta-time"},_o=["innerHTML"],go={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},vo={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},co={key:1,width:"22px",height:"22px",viewBox:"0 0 15.2 15.2"},fo={class:"recorded-program__menu"},ho={class:"delete-confirmation__file-path mb-4"},yo=E({__name:"RecordedProgram",props:{program:{},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["deleted"],setup(T,{emit:d}){const r=T,c=d,h=I(!1),_=I(!1),U=()=>{window.location.href=`${V.api_base_url}/videos/${r.program.id}/download`},i=async()=>{w.success("メタデータの再解析を開始します。完了までしばらくお待ちください。"),await A.reanalyzeVideo(r.program.id)===!0&&w.success("メタデータの再解析が完了しました。")},p=async(s=!1)=>{w.success("サムネイルの再作成を開始しました。完了までしばらくお待ちください。"),await A.regenerateThumbnail(r.program.id,s)===!0&&w.success("サムネイルの再作成が完了しました。")},g=oe(),u=()=>{g.settings.mylist.some(o=>o.type==="RecordedProgram"&&o.id===r.program.id)?(g.settings.mylist=g.settings.mylist.filter(o=>!(o.type==="RecordedProgram"&&o.id===r.program.id)),w.show("マイリストから削除しました。")):(g.settings.mylist.push({type:"RecordedProgram",id:r.program.id,created_at:V.time()}),w.success("マイリストに追加しました。"))},W=Y(()=>g.settings.mylist.some(s=>s.type==="RecordedProgram"&&s.id===r.program.id)),N=Y(()=>g.settings.watched_history.find(s=>s.video_id===r.program.id)),K=()=>{g.settings.watched_history=g.settings.watched_history.filter(s=>s.video_id!==r.program.id),w.show("視聴履歴から削除しました。")},Q=()=>{const s=ie();if(s.user===null||s.user.is_admin===!1){w.warning(`録画ファイルを削除するには管理者権限が必要です。
管理者アカウントでログインし直してください。`);return}_.value=!0},X=async()=>{_.value=!1,w.info("録画ファイルの削除を開始します。完了までしばらくお待ちください。"),await A.deleteVideo(r.program.id)===!0&&(w.success("録画ファイルを削除しました。"),c("deleted",r.program.id))};return(s,o)=>{const $=x("Icon"),Z=x("router-link"),L=te("ftooltip");return a(),n(R,null,[k((a(),M(Z,{class:P(["recorded-program",{"recorded-program--recording":s.program.recorded_video.status==="Recording","recorded-program--analyzing":!s.program.recorded_video.has_key_frames}]),to:s.program.recorded_video.status==="Recording"||!s.program.recorded_video.has_key_frames?{path:""}:`/videos/watch/${s.program.id}`},{default:l(()=>[e("div",Ke,[e("div",Qe,[e("img",{class:"recorded-program__thumbnail-image",loading:"lazy",decoding:"async",src:`${y(V).api_base_url}/videos/${s.program.id}/thumbnail`},null,8,Xe),e("div",Ze,m(y(z).getProgramDuration(s.program)),1),s.program.recorded_video.status==="Recording"?(a(),n("div",eo,o[10]||(o[10]=[e("div",{class:"recorded-program__thumbnail-status-dot"},null,-1),f(" 録画中 ")]))):s.program.recorded_video.has_key_frames?s.program.is_partially_recorded?(a(),n("div",ro," ⚠️ 一部のみ録画 ")):v("",!0):(a(),n("div",oo,[t($,{icon:"fluent:clock-12-regular",width:"15px",height:"15px"}),o[11]||(o[11]=f(" メタデータ解析中 "))])),N.value?(a(),n("div",to,[e("div",{class:"recorded-program__thumbnail-progress-bar",style:re(`width: ${N.value.last_playback_position/s.program.recorded_video.duration*100}%`)},null,4)])):v("",!0)]),e("div",so,[e("div",{class:"recorded-program__content-title",innerHTML:y(z).decorateProgramInfo(s.program,"title")},null,8,io),e("div",ao,[s.program.channel?(a(),n("div",lo,[e("img",{class:"recorded-program__content-meta-broadcaster-icon",loading:"lazy",decoding:"async",src:`${y(V).api_base_url}/channels/${s.program.channel.id}/logo`},null,8,no),e("span",mo,"Ch: "+m(s.program.channel.channel_number)+" "+m(s.program.channel.name),1)])):(a(),n("div",po,o[12]||(o[12]=[e("span",{class:"recorded-program__content-meta-broadcaster-name"},"チャンネル情報なし",-1)]))),e("div",uo,m(y(z).getProgramTime(s.program)),1)]),e("div",{class:"recorded-program__content-description",innerHTML:y(z).decorateProgramInfo(s.program,"description")},null,8,_o)]),s.forWatchedHistory?v("",!0):k((a(),n("div",{key:0,class:P(["recorded-program__mylist",{"recorded-program__mylist--highlight":W.value&&!s.forMylist}]),onClick:B(u,["prevent","stop"]),onMousedown:o[0]||(o[0]=B(()=>{},["prevent","stop"]))},[s.forMylist?(a(),n("svg",go,o[13]||(o[13]=[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"},null,-1)]))):(a(),n(R,{key:1},[W.value?(a(),n("svg",vo,o[14]||(o[14]=[e("path",{fill:"currentColor",d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"},null,-1)]))):(a(),n("svg",co,o[15]||(o[15]=[e("path",{fill:"currentColor",d:"M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z"},null,-1)])))],64))],34)),[[S],[L,W.value?"マイリストから削除する":"マイリストに追加する"]]),s.forWatchedHistory?k((a(),n("div",{key:1,class:"recorded-program__mylist",onClick:B(K,["prevent","stop"]),onMousedown:o[1]||(o[1]=B(()=>{},["prevent","stop"]))},o[16]||(o[16]=[e("svg",{width:"22px",height:"22px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"})],-1)]),32)),[[S],[L,"視聴履歴から削除する"]]):v("",!0),e("div",fo,[t(pe,{location:"bottom end","close-on-content-click":!0},{activator:l(({props:b})=>[k((a(),n("div",se({class:"recorded-program__menu-button"},b,{onClick:o[2]||(o[2]=B(()=>{},["prevent","stop"])),onMousedown:o[3]||(o[3]=B(()=>{},["prevent","stop"]))}),o[17]||(o[17]=[e("svg",{width:"19px",height:"19px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M9.5 13a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0"})],-1)]),16)),[[S]])]),default:l(()=>[t(me,{density:"compact","bg-color":"background-lighten-1",class:"recorded-program__menu-list"},{default:l(()=>[t(C,{onClick:o[4]||(o[4]=b=>h.value=!0)},{prepend:l(()=>o[18]||(o[18]=[e("svg",{width:"20px",height:"20px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M8.499 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0zm.25-2a.749.749 0 1 1-1.499 0a.749.749 0 0 1 1.498 0M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1M2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8"})],-1)])),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>o[19]||(o[19]=[f("録画ファイル情報を表示")])),_:1})]),_:1}),t(C,{onClick:U,disabled:s.program.recorded_video.status==="Recording"},{prepend:l(()=>[t($,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>[f("録画ファイルをダウンロード ("+m(y(V).formatBytes(s.program.recorded_video.file_size))+")",1)]),_:1})]),_:1},8,["disabled"]),k((a(),M(C,{onClick:i},{prepend:l(()=>[t($,{icon:"fluent:book-arrow-clockwise-20-regular",width:"20px",height:"20px"})]),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>o[20]||(o[20]=[f("メタデータを再解析")])),_:1})]),_:1})),[[L,"再生時に必要な録画ファイル情報や番組情報などを解析し直します"]]),k((a(),M(C,{onClick:o[5]||(o[5]=b=>p(!0))},{prepend:l(()=>[t($,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>o[21]||(o[21]=[f("サムネイルを更新")])),_:1})]),_:1})),[[L,"既存のシークバー用サムネイルから代表サムネイルを選び直します 変更反映にはブラウザキャッシュの削除が必要です"]]),k((a(),M(C,{onClick:o[6]||(o[6]=b=>p(!1))},{prepend:l(()=>[t($,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>o[22]||(o[22]=[f("サムネイルを再作成")])),_:1})]),_:1})),[[L,"サムネイルを完全に作り直します（数分かかります） 変更反映にはブラウザキャッシュの削除が必要です"]]),t(_e),t(C,{onClick:Q,disabled:s.program.recorded_video.status==="Recording",class:"recorded-program__menu-list-item--danger"},{prepend:l(()=>[t($,{icon:"fluent:delete-24-regular",width:"20px",height:"20px"})]),default:l(()=>[t(H,{class:"ml-3"},{default:l(()=>o[23]||(o[23]=[f("録画ファイルを削除")])),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})])])]),_:1},8,["to","class"])),[[S]]),t(Je,{program:s.program,show:h.value,"onUpdate:show":o[7]||(o[7]=b=>h.value=b)},null,8,["program","show"]),t(j,{"max-width":"750",modelValue:_.value,"onUpdate:modelValue":o[9]||(o[9]=b=>_.value=b)},{default:l(()=>[t(q,null,{default:l(()=>[t(G,{class:"d-flex justify-center pt-6 font-weight-bold"},{default:l(()=>o[24]||(o[24]=[f("本当に録画ファイルを削除しますか？")])),_:1}),t(le,{class:"pt-2 pb-0"},{default:l(()=>[e("div",ho,m(s.program.recorded_video.file_path),1),o[25]||(o[25]=e("div",{class:"text-error-lighten-1 font-weight-bold"},[f(" この録画ファイルに関連するすべてのデータ (サムネイル / .ts.program.txt / .ts.err を含む) が削除されます。"),e("br"),f(" 元に戻すことはできません。本当に録画ファイルを削除しますか？ ")],-1))]),_:1}),t(ne,{class:"pt-4 px-6 pb-6"},{default:l(()=>[t(J),t(O,{color:"text",variant:"text",onClick:o[8]||(o[8]=b=>_.value=!1)},{default:l(()=>[t($,{icon:"fluent:dismiss-20-regular",width:"18px",height:"18px"}),o[26]||(o[26]=e("span",{class:"ml-1"},"キャンセル",-1))]),_:1}),t(O,{class:"px-3",color:"error",variant:"flat",onClick:X},{default:l(()=>[t($,{icon:"fluent:delete-20-regular",width:"18px",height:"18px"}),o[27]||(o[27]=e("span",{class:"ml-1"},"録画ファイルを削除",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),wo=F(yo,[["__scopeId","data-v-69f71c4c"]]),bo={key:0,class:"recorded-program-list__header"},ko={class:"recorded-program-list__title"},$o={class:"recorded-program-list__title-text"},Mo={key:1,class:"recorded-program-list__title-count"},Vo={class:"recorded-program-list__empty-content"},Bo=["innerHTML"],Co=["innerHTML"],Ho={class:"recorded-program-list__grid-content"},So={key:1,class:"recorded-program-list__pagination"},Io=E({__name:"RecordedProgramList",props:{title:{},programs:{},total:{},page:{default:1},sortOrder:{default:"desc"},hideHeader:{type:Boolean,default:!1},hideSort:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},showMoreButton:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!1},showEmptyMessage:{type:Boolean,default:!0},emptyIcon:{default:"fluent:warning-20-regular"},emptyMessage:{default:"録画番組が見つかりませんでした。"},emptySubMessage:{default:'サーバー設定で録画フォルダのパスを<br class="d-sm-none">正しく設定できているか確認してください。'},isLoading:{type:Boolean,default:!1},isSearching:{type:Boolean,default:!1},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["update:page","update:sortOrder","more"],setup(T){ae();const d=T,r=I(d.page),c=I(d.sortOrder),h=I([...d.programs]),_=I(d.total);D(()=>d.page,i=>{r.value=i}),D(()=>d.sortOrder,i=>{c.value=i}),D(()=>d.programs,i=>{h.value=[...i]}),D(()=>d.total,i=>{_.value=i});const U=i=>{h.value=h.value.filter(p=>p.id!==i),_.value--};return(i,p)=>{const g=x("Icon");return a(),n("div",{class:P(["recorded-program-list",{"recorded-program-list--show-sort":!i.hideSort}])},[i.hideHeader?v("",!0):(a(),n("div",bo,[e("h2",ko,[i.showBackButton?k((a(),n("div",{key:0,class:"recorded-program-list__title-back",onClick:p[0]||(p[0]=u=>i.$router.back())},[t(g,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[S]]):v("",!0),e("span",$o,m(i.title),1),i.showMoreButton?v("",!0):(a(),n("div",Mo,[i.isSearching?(a(),n(R,{key:0},[t(g,{icon:"line-md:loading-twotone-loop",class:"mr-1 spin",width:"20px",height:"20px"}),p[6]||(p[6]=e("span",null,"検索中...",-1))],64)):(a(),n(R,{key:1},[f(m(_.value)+"件",1)],64))]))]),e("div",{class:P(["recorded-program-list__actions",{"recorded-program-list__actions--mylist":i.forMylist}])},[i.hideSort?v("",!0):(a(),M(ue,{key:0,modelValue:c.value,"onUpdate:modelValue":[p[1]||(p[1]=u=>c.value=u),p[2]||(p[2]=u=>i.$emit("update:sortOrder",u))],items:i.forMylist?[{title:"追加が新しい順",value:"mylist_added_desc"},{title:"追加が古い順",value:"mylist_added_asc"},{title:"録画が新しい順",value:"recorded_desc"},{title:"録画が古い順",value:"recorded_asc"}]:[{title:"新しい順",value:"desc"},{title:"古い順",value:"asc"}],"item-title":"title","item-value":"value",class:"recorded-program-list__sort",color:"primary","bg-color":"background-lighten-1",variant:"solo",density:"comfortable","hide-details":""},null,8,["modelValue","items"])),i.showMoreButton?(a(),M(O,{key:1,variant:"text",class:"recorded-program-list__more",onClick:p[3]||(p[3]=u=>i.$emit("more"))},{default:l(()=>[p[7]||(p[7]=e("span",{class:"text-primary"},"もっと見る",-1)),t(g,{icon:"fluent:chevron-right-12-regular",width:"18px",class:"ml-1 text-text-darken-1",style:{margin:"0px -4px"}})]),_:1})):v("",!0)],2)])),e("div",{class:P(["recorded-program-list__grid",{"recorded-program-list__grid--loading":i.isLoading||i.isSearching,"recorded-program-list__grid--empty":_.value===0&&i.showEmptyMessage,"recorded-program-list__grid--searching":i.isSearching}])},[e("div",{class:P(["recorded-program-list__empty",{"recorded-program-list__empty--show":_.value===0&&i.showEmptyMessage&&!i.isSearching}])},[e("div",Vo,[t(g,{class:"recorded-program-list__empty-icon",icon:i.emptyIcon,width:"54px",height:"54px"},null,8,["icon"]),e("h2",{innerHTML:i.emptyMessage},null,8,Bo),i.emptySubMessage?(a(),n("div",{key:0,class:"recorded-program-list__empty-submessage",innerHTML:i.emptySubMessage},null,8,Co)):v("",!0)])],2),e("div",Ho,[(a(!0),n(R,null,de(h.value,u=>(a(),M(wo,{key:u.id,program:u,forMylist:i.forMylist,forWatchedHistory:i.forWatchedHistory,onDeleted:U},null,8,["program","forMylist","forWatchedHistory"]))),128))])],2),!i.hidePagination&&_.value>0?(a(),n("div",So,[t(ge,{modelValue:r.value,"onUpdate:modelValue":[p[4]||(p[4]=u=>r.value=u),p[5]||(p[5]=u=>i.$emit("update:page",u))],"active-color":"primary",density:"comfortable",length:Math.ceil(_.value/30),"total-visible":y(V).isSmartphoneVertical()?5:7},null,8,["modelValue","length","total-visible"])])):v("",!0)],2)}}}),Wo=F(Io,[["__scopeId","data-v-f7a7f4da"]]);export{Wo as R};
