import{d as f,m as g,U as w,y as c,_ as h,c as y,a as s,b as a,r as o,h as n,p as v,cP as i,V,l as _,o as $}from"./index-C90hjLTU.js";import{S,N as B,H}from"./SPHeaderBar-Chf0UYUT.js";import{_ as C}from"./ssrBoot-OnzqbV2B.js";import{V as N,a as b}from"./VCard-BjWulXRM.js";import{d as U,c as l}from"./VTextField-DDySwIAQ.js";import{V as k}from"./VForm-0ofYpJtB.js";import"./VAvatar-D6Bl7QrI.js";const I=f({name:"Register",components:{HeaderBar:H,Navigation:B,SPHeaderBar:S},data(){return{is_form_dense:w.isSmartphoneHorizontal(),username:null,username_validation:e=>e===""||e===null?"ユーザー名を入力してください。":/^.{2,}$/.test(e)===!1?"ユーザー名は2文字以上で入力してください。":!0,password:null,password_showing:!0,password_validation:e=>e===""||e===null?"パスワードを入力してください。":/^[a-zA-Z0-9!-/:-@¥[-`{-~]{4,}$/.test(e)===!1?"パスワードは4文字以上の半角英数記号を入力してください。":!0}},computed:{...g(c)},async created(){await this.userStore.fetchUser(),this.userStore.is_logged_in&&await this.$router.replace({path:"/settings/account"})},methods:{async register(){(await this.$refs.register.validate()).valid===!1||this.username===null||this.password===null||await this.userStore.register(this.username,this.password)===!1||await this.$router.replace({path:"/settings/account"})}}}),P={class:"route-container"},K={class:"register-container-wrapper d-flex align-center w-100 mb-13"};function T(e,r,z,F,R,j){const d=o("HeaderBar"),p=o("Navigation"),u=o("SPHeaderBar"),m=o("Icon");return $(),y("div",P,[s(d),a("main",null,[s(p),s(u,{"hide-on-smartphone-vertical":!0}),a("div",K,[s(b,{class:"register-container px-10 pt-8 pb-11 mx-auto",elevation:"10",width:"100%","max-width":"450"},{default:n(()=>[s(N,{class:"register__logo py-4 d-flex flex-column justify-center align-center"},{default:n(()=>[...r[7]||(r[7]=[a("img",{class:"d-block",src:C,style:{"max-width":"250px"}},null,-1),a("h4",{class:"mt-10"},"アカウントを作成",-1)])]),_:1}),s(U),s(k,{ref:"register",onSubmit:r[6]||(r[6]=v(()=>{},["prevent"]))},{default:n(()=>[s(l,{class:"mt-12",color:"primary",variant:"outlined",placeholder:"ユーザー名",autofocus:"",density:e.is_form_dense?"compact":"default",modelValue:e.username,"onUpdate:modelValue":r[0]||(r[0]=t=>e.username=t),rules:[e.username_validation],onKeyup:r[1]||(r[1]=i(t=>e.register(),["enter"]))},null,8,["density","modelValue","rules"]),s(l,{style:{"margin-top":"10px"},color:"primary",variant:"outlined",placeholder:"パスワード",density:e.is_form_dense?"compact":"default",modelValue:e.password,"onUpdate:modelValue":r[2]||(r[2]=t=>e.password=t),type:e.password_showing?"text":"password",rules:[e.password_validation],"append-inner-icon":e.password_showing?"mdi-eye":"mdi-eye-off","onClick:appendInner":r[3]||(r[3]=t=>e.password_showing=!e.password_showing),onKeyup:r[4]||(r[4]=i(t=>e.register(),["enter"]))},null,8,["density","modelValue","type","rules","append-inner-icon"]),s(V,{class:"register-button mt-5",color:"secondary",variant:"flat",width:"100%",height:"56",onClick:r[5]||(r[5]=t=>e.register())},{default:n(()=>[s(m,{icon:"fluent:person-add-20-filled",class:"mr-2",height:"24"}),r[8]||(r[8]=_("アカウントを作成 ",-1))]),_:1})]),_:1},512)]),_:1})])])])}const G=h(I,[["render",T],["__scopeId","data-v-361a91d6"]]);export{G as default};
