import{d as u,m as f,M as g,U as w,y as c,_ as y,c as h,a as o,b as a,r,h as n,p as V,cf as i,V as v,l as _,o as $}from"./index-Bwzgjc3Q.js";import{N as b,H as B}from"./Navigation-Dc3WHOr4.js";import{_ as C}from"./ssrBoot-1pWmlktz.js";import{V as N,a as S}from"./VCard-DQ5byH27.js";import{b as U,c as l}from"./VTextField-C8jbDFyH.js";import{V as k}from"./VForm-DL2tJ4Tg.js";import"./VAvatar-DSObgxFt.js";const H=u({name:"Login",components:{HeaderBar:B,Navigation:b},data(){return{is_form_dense:w.isSmartphoneHorizontal(),username:"",password:"",password_showing:!1}},computed:{...f(c)},async created(){await this.userStore.fetchUser(),this.userStore.is_logged_in&&await this.$router.replace({path:"/settings/account"})},methods:{async login(){if(this.username===""||this.password===""){g.error("ユーザー名またはパスワードが空です。");return}await this.userStore.login(this.username,this.password)!==!1&&await this.$router.replace({path:"/settings/account"})}}}),I={class:"route-container"},K={class:"login-container-wrapper d-flex align-center w-100 mb-13"};function M(s,e,T,x,F,L){const d=r("HeaderBar"),p=r("Navigation"),m=r("Icon");return $(),h("div",I,[o(d),a("main",null,[o(p),a("div",K,[o(S,{class:"login-container px-10 pt-8 pb-11 mx-auto",elevation:"10",width:"100%","max-width":"450"},{default:n(()=>[o(N,{class:"login__logo py-4 d-flex flex-column justify-center align-center"},{default:n(()=>[...e[7]||(e[7]=[a("img",{class:"d-block",src:C,style:{"max-width":"250px"}},null,-1),a("h4",{class:"mt-10"},"ログイン",-1)])]),_:1}),o(U),o(k,{ref:"login",onSubmit:e[6]||(e[6]=V(()=>{},["prevent"]))},{default:n(()=>[o(l,{class:"mt-12",color:"primary",variant:"outlined",placeholder:"ユーザー名","hide-details":"",autofocus:"",density:s.is_form_dense?"compact":"default",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),onKeyup:e[1]||(e[1]=i(t=>s.login(),["enter"]))},null,8,["density","modelValue"]),o(l,{class:"mt-8",color:"primary",variant:"outlined",placeholder:"パスワード","hide-details":"",density:s.is_form_dense?"compact":"default",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=t=>s.password=t),type:s.password_showing?"text":"password","append-inner-icon":s.password_showing?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[3]||(e[3]=t=>s.password_showing=!s.password_showing),onKeyup:e[4]||(e[4]=i(t=>s.login(),["enter"]))},null,8,["density","modelValue","type","append-inner-icon"]),o(v,{class:"login-button mt-5",color:"secondary",variant:"flat",width:"100%",height:"56",onClick:e[5]||(e[5]=t=>s.login())},{default:n(()=>[o(m,{icon:"fa:sign-in",class:"mr-2"}),e[8]||(e[8]=_("ログイン ",-1))]),_:1})]),_:1},512)]),_:1})])])])}const J=y(H,[["render",M],["__scopeId","data-v-d18954b5"]]);export{J as default};
