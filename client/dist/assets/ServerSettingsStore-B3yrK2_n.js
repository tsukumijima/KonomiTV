import{a7 as r,af as d,q as o,aL as l,aM as u}from"./index-BwZ9zzz0.js";const f={is_enabled:!0,priority:2,recording_folders:[],recording_start_margin:null,recording_end_margin:null,recording_mode:"SpecifiedService",caption_recording_mode:"Default",data_broadcasting_recording_mode:"Default",post_recording_mode:"Default",post_recording_bat_file_path:null,is_event_relay_follow_enabled:!0,is_exact_recording_enabled:!1,is_oneseg_separate_output_enabled:!1,is_sequential_recording_in_single_file_enabled:!1,forced_tuner_id:null};class c{static async fetchReservations(){const e=await r.get("/recording/reservations");return e.type==="error"?(r.showGenericError(e,"録画予約一覧を取得できませんでした。"),null):e.data}static async fetchReservation(e){const t=await r.get(`/recording/reservations/${e}`);return t.type==="error"?(r.showGenericError(t,"録画予約情報を取得できませんでした。"),null):t.data}static async addReservation(e,t){const s={program_id:e,record_settings:t},a=await r.post("/recording/reservations",s);if(a.type==="error"){switch(a.data.detail){case"This API is only available when the backend is EDCB":r.showGenericError(a,"録画予約機能は EDCB バックエンド選択時のみ利用できます。");break;case"Specified program was not found":r.showGenericError(a,"指定された番組が見つかりませんでした。");break;case"Specified channel was not found":r.showGenericError(a,"指定されたチャンネルが見つかりませんでした。");break;case"The same program_id is already reserved":r.showGenericError(a,"この番組は既に録画予約されています。");break;case"Failed to add a recording reservation":r.showGenericError(a,"録画予約の追加に失敗しました。");break;default:r.showGenericError(a,"録画予約の追加に失敗しました。");break}return!1}return!0}static async updateReservation(e,t){const s={record_settings:t},a=await r.put(`/recording/reservations/${e}`,s);if(a.type==="error"){switch(a.data.detail){case"This API is only available when the backend is EDCB":r.showGenericError(a,"録画予約機能は EDCB バックエンド選択時のみ利用できます。");break;case"Specified reservation_id was not found":r.showGenericError(a,"指定された録画予約が見つかりませんでした。");break;case"Failed to update the specified recording reservation":r.showGenericError(a,"録画予約の更新に失敗しました。");break;default:r.showGenericError(a,"録画予約の更新に失敗しました。");break}return null}return a.data}static async deleteReservation(e){const t=await r.delete(`/recording/reservations/${e}`);if(t.type==="error"){switch(t.data.detail){case"This API is only available when the backend is EDCB":r.showGenericError(t,"録画予約機能は EDCB バックエンド選択時のみ利用できます。");break;case"Specified reservation_id was not found":r.showGenericError(t,"指定された録画予約が見つかりませんでした。");break;case"Failed to delete the specified recording reservation":r.showGenericError(t,"録画予約の削除に失敗しました。");break;default:r.showGenericError(t,`録画予約 (ID: ${e}) の削除に失敗しました。`);break}return!1}return!0}static async fetchRecordingPresets(){const e=await r.get("/recording/presets");return e.type==="error"?(r.showGenericError(e,"録画設定プリセット一覧の取得に失敗しました。"),null):e.data}static async fetchDefaultRecordSettings(){const e=await c.fetchRecordingPresets();if(e!==null){const t=e.presets.find(s=>s.id===0);if(t)return t.record_settings}return structuredClone(f)}}const h=d("serverSettings",()=>{const n=o(structuredClone(l)),e=o(!1),t=o(!1);let s=null;async function a(){return e.value?n.value:s!==null?await s:(t.value=!0,s=u.fetchServerSettings().then(i=>(i!==null&&(n.value=i,e.value=!0),i)).finally(()=>{t.value=!1,s=null}),await s)}return{server_settings:n,is_loaded:e,is_loading:t,fetchServerSettingsOnce:a}});export{f as I,c as R,h as u};
