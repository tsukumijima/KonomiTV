(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var p=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},1817:function(t,e,a){"use strict";a("e02d")},2236:function(t,e,a){},"387a":function(t,e,a){"use strict";a("e1a4")},"38f0":function(t,e,a){},4507:function(t,e,a){},"4a59":function(t,e,a){"use strict";a("c96e")},5452:function(t,e,a){"use strict";a("af35")},"598f":function(t,e,a){"use strict";a("cee1")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"64b6":function(t,e,a){"use strict";a("7a63")},6687:function(t,e,a){"use strict";a("38f0")},"7a63":function(t,e,a){},"7b9e":function(t,e,a){"use strict";a("2236")},9257:function(t,e,a){"use strict";a("e7bb")},"92b8":function(t,e,a){"use strict";a("eee7")},"9c0c":function(t,e,a){},af35:function(t,e,a){},c96e:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("bc3a"),i=a.n(n),s=a("5ea9"),r=a("2b0e"),o=a("130e"),l=a("e508"),c=(a("a899"),a("e37d")),p=(a("096e"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("transition",[a("router-view")],1)],1)}),u=[],d=(a("5c0b"),a("2877")),_=a("6544"),h=a.n(_),m=a("7496"),v={},g=Object(d["a"])(v,p,u,!1,null,null,null),f=g.exports;h()(g,{VApp:m["a"]});var b=a("c671"),y=b["a"].extend({render:function(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},[this.genWindowItem()])}}),w=a("80d2"),C=a("fe57"),k=(a("4e827"),a("c740"),a("027c")),x=k["a"].extend({data:function(){return{items:[]}},methods:{register:function(t){var e=this,a=this.items[this.internalIndex];this.items.push(t),this.items.sort((function(t,a){var n=e.$slots.default.findIndex((function(e){return t.$vnode.key===e.key})),i=e.$slots.default.findIndex((function(t){return a.$vnode.key===t.key}));return n-i})),t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,this.items.indexOf(t)),void 0!==a&&this.updateInternalValue(this.items.indexOf(a))},unregister:function(t){var e=this.items[this.internalIndex];this.constructor.super.options.methods.unregister.call(this,t),void 0!==e&&this.updateInternalValue(this.items.indexOf(e))}}}),S=C["a"].extend({methods:{genBar:function(t,e){var a=this,n={style:{height:Object(w["g"])(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:function(t){a.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,n),this.setBackgroundColor(this.backgroundColor,n),this.$createElement(x,n,[this.genSlider(e),t])}}}),I=a("aac8"),T=I["a"].extend({data:function(){return{items:[]}},methods:{register:function(t){var e=this,a=this.items[this.internalIndex];this.items.push(t),this.items.sort((function(t,a){var n=e.$slots.default.findIndex((function(e){return t.$vnode.key===e.key})),i=e.$slots.default.findIndex((function(t){return a.$vnode.key===t.key}));return n-i})),t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,this.items.indexOf(t)),void 0!==a&&this.items.indexOf(a)!==this.internalValue&&this.updateInternalValue(this.items.indexOf(a))},unregister:function(t){var e=this.items[this.internalIndex];this.constructor.super.options.methods.unregister.call(this,t),void 0!==e&&this.updateInternalValue(this.items.indexOf(e))},updateReverse:function(t,e){var a=this.items.length,n=a-1;return a<=2?t<e:this.continuous?t===n&&0===e||(0!==t||e!==n)&&t<e:t<e}}}),P=(a("99af"),r["a"].extend({data:function(){var t="".concat(window.location.protocol,"//").concat(window.location.host,"/api");var e="0.4.0";return{api_base_url:t,version:e}}})),O=a("f309");r["a"].use(O["a"]);var N=new O["a"]({theme:{dark:!0,themes:{dark:{primary:"#E64F97",secondary:"#E64F97",twitter:"#4F82E6",gray:"#66514C",black:"#110A09",background:{base:"#1E1310",lighten1:"#2F221F",lighten2:"#433532",lighten3:"#4c3c38"},text:{base:"#FFEAEA",darken1:"#D9C7C7",darken2:"#8E7F7E",darken3:"#786968"}}},options:{customProperties:!0}}}),R=a("8c4f"),E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-container"},[a("Header"),a("main",[a("Navigation"),a("div",{staticClass:"channels-container channels-container--home",class:{"channels-container--loading":t.is_loading}},[a("v-tabs-fix",{staticClass:"channels-tab",attrs:{centered:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Array.from(t.channels_list),(function(e){var n=e[0];return a("v-tab",{key:n,staticClass:"channels-tab__item"},[t._v(t._s(n))])})),1),a("v-tabs-items-fix",{staticClass:"channels-list",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Array.from(t.channels_list),(function(e){var n=e[0],i=e[1];return a("v-tab-item-fix",{key:n,staticClass:"channels-tabitem"},[a("div",{staticClass:"channels",class:"channels--length-"+i.length},t._l(i,(function(e){return a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"channel",attrs:{to:"/tv/watch/"+e.channel_id}},[a("div",{staticClass:"channel__broadcaster"},[a("img",{staticClass:"channel__broadcaster-icon",attrs:{src:t.api_base_url+"/channels/"+e.channel_id+"/logo"}}),a("div",{staticClass:"channel__broadcaster-content"},[a("span",{staticClass:"channel__broadcaster-name"},[t._v("Ch: "+t._s(e.channel_number)+" "+t._s(e.channel_name))]),a("div",{staticClass:"channel__broadcaster-status"},[a("div",{staticClass:"channel__broadcaster-status-force",class:"channel__broadcaster-status-force--"+t.getChannelForceType(e.channel_force)},[a("Icon",{attrs:{icon:"fa-solid:fire-alt",height:"12px"}}),a("span",{staticClass:"ml-1"},[t._v("勢い:")]),a("span",{staticClass:"ml-1"},[t._v(t._s(t.getAttribute(e,"channel_force","--"))+" コメ/分")])],1),a("div",{staticClass:"channel__broadcaster-status-viewers ml-4"},[a("Icon",{attrs:{icon:"fa-solid:eye",height:"14px"}}),a("span",{staticClass:"ml-1"},[t._v("視聴数:")]),a("span",{staticClass:"ml-1"},[t._v(t._s(e.viewers))])],1)])]),a("div",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"tooltip",rawName:"v-tooltip",value:t.isPinnedChannel(e.channel_id)?"ピン留めを外す":"ピン留めする",expression:"isPinnedChannel(channel.channel_id) ? 'ピン留めを外す' : 'ピン留めする'"}],staticClass:"channel__broadcaster-pin",class:{"channel__broadcaster-pin--pinned":t.isPinnedChannel(e.channel_id)},on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.isPinnedChannel(e.channel_id)?t.removePinnedChannel(e.channel_id):t.addPinnedChannel(e.channel_id)},mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[a("Icon",{attrs:{icon:"fluent:pin-20-filled",width:"24px"}})],1)]),a("div",{staticClass:"channel__program-present"},[a("span",{staticClass:"channel__program-present-title",domProps:{innerHTML:t._s(t.decorateProgramInfo(e.program_present,"title"))}}),a("span",{staticClass:"channel__program-present-time"},[t._v(t._s(t.getProgramTime(e.program_present)))]),a("span",{staticClass:"channel__program-present-description",domProps:{innerHTML:t._s(t.decorateProgramInfo(e.program_present,"description"))}})]),a("v-spacer"),a("div",{staticClass:"channel__program-following"},[a("div",{staticClass:"channel__program-following-title"},[a("span",{staticClass:"channel__program-following-title-decorate"},[t._v("NEXT")]),a("Icon",{staticClass:"channel__program-following-title-icon",attrs:{icon:"fluent:fast-forward-20-filled",width:"16px"}}),a("span",{staticClass:"channel__program-following-title-text",domProps:{innerHTML:t._s(t.decorateProgramInfo(e.program_following,"title"))}})],1),a("span",{staticClass:"channel__program-following-time"},[t._v(t._s(t.getProgramTime(e.program_following)))])]),a("div",{staticClass:"channel__progressbar"},[a("div",{staticClass:"channel__progressbar-progress",style:"width:"+t.getProgramProgress(e.program_present)+"%;"})])],1)})),1)])})),1)],1)],1)],1)},A=[],D=a("1da1"),V=a("b85c"),j=(a("96cf"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("a434"),a("caad"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"header",attrs:{absolute:"",color:"background",elevation:"8",width:"100%"}},[a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"logo ml-3 ml-md-6",attrs:{to:"/tv/"}},[a("img",{staticClass:"logo__image",attrs:{src:"/assets/img/logo.svg",height:"21"}})]),a("v-spacer"),a("v-btn",{staticClass:"mr-3 mr-md-6",attrs:{icon:""}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)],1)}),M=[],H=(a("5452"),a("8336")),L=a("132d"),F=a("2fa4"),$=a("71d9"),B=a("269a"),K=a.n(B),G=a("5607"),q={},Y=Object(d["a"])(q,j,M,!1,null,null,null),z=Y.exports;h()(Y,{VBtn:H["a"],VIcon:L["a"],VSpacer:F["a"],VToolbar:$["a"]}),K()(Y,{Ripple:G["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navigation-container elevation-8"},[a("nav",{staticClass:"navigation"},[a("div",{staticClass:"navigation-scroll"},[a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/tv/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:tv-20-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("テレビをみる")])],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/videos/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:movies-and-tv-20-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("ビデオをみる")])],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/schedules/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:calendar-ltr-20-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("番組表")])],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/captures/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:image-multiple-24-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("キャプチャ")])],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/watchlists/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"ic:round-playlist-play",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("ウォッチリスト")])],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/histories/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:history-16-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("視聴履歴")])],1),a("v-spacer"),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",to:"/settings/"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:settings-20-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("設定")])],1),a("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"navigation__link",attrs:{"active-class":"navigation__link--active",href:"https://github.com/tsukumijima/KonomiTV"}},[a("Icon",{staticClass:"navigation__link-icon",attrs:{icon:"fluent:info-16-regular",width:"26px"}}),a("span",{staticClass:"navigation__link-text"},[t._v("version "+t._s(t.version))])],1)],1)])])},J=[],U=(a("6687"),{}),X=Object(d["a"])(U,W,J,!1,null,"4a26ecac",null),Q=X.exports;h()(X,{VSpacer:F["a"]}),K()(X,{Ripple:G["a"]});var Z=a("2909"),tt=(a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("466d"),a("5a0c")),et=a.n(tt),at=(a("5999"),a("1df6")),nt=a("d4ec"),it=a("bee2"),st=(a("4d90"),function(){function t(){Object(nt["a"])(this,t)}return Object(it["a"])(t,null,[{key:"generatePlayerBackgroundURL",value:function(){var t=12,e=Math.floor(Math.random()*t)+1;return"/assets/img/player-backgrounds/".concat(e.toString().padStart(2,"0"),".jpg")}},{key:"getSettingsItem",value:function(e){var a=JSON.parse(localStorage.getItem("KonomiTV-Settings"))||t.default_settings;return e in a?a[e]:e in this.default_settings?this.default_settings[e]:null}},{key:"setSettingsItem",value:function(e,a){var n=JSON.parse(localStorage.getItem("KonomiTV-Settings"))||t.default_settings;e in this.default_settings&&(n[e]=a,localStorage.setItem("KonomiTV-Settings",JSON.stringify(n)))}}]),t}());st.default_settings={pinned_channel_ids:[],tv_streaming_quality:"1080p",is_latest_panel_display:!0,panel_display_state:"AlwaysDisplay",panel_active_tab:"Program"};var rt,ot,lt=Object(at["a"])(P).extend({data:function(){return{channels_list:new Map,pinned_channel_ids:[]}},methods:{decorateProgramInfo:function(t,e){if(null!==t&&null!==t[e]){var a="新|終|再|交|映|手|声|多|副|字|文|CC|OP|二|S|B|SS|無|無料C|S1|S2|S3|MV|双|デ|D|N|W|P|H|HV|SD|天|解|料|前|後初|生|販|吹|PPV|演|移|他|収|・|英|韓|中|字/日|字/日英|3D|2K|4K|8K|5.1|7.1|22.2|60P|120P|d|HC|HDR|SHV|UHD|VOD|配|初",n=new RegExp("\\((二|字|再)\\)","g"),i=new RegExp("\\[(".concat(a,")\\]"),"g"),s=t[e].replace(n,'<span class="decorate-symbol">$1</span>');return s=s.replace(i,'<span class="decorate-symbol">$1</span>'),s}return"title"==e?"放送休止":"この時間は放送を休止しています。"},getAttribute:function(t,e,a){return null!==t&&void 0!==t[e]&&null!==t[e]?t[e]:a},getChannelType:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.match("(?<channel_type>[a-z]+)[0-9]+").groups.channel_type.toUpperCase();return"GR"===a&&e?"地デジ":a},getChannelForceType:function(t){return null===t?"normal":t>=1e3?"festival":t>=200?"so-many":t>=100?"many":"normal"},getChannelFromRemoconID:function(t,e){e=e.replace("GR","地デジ");for(var a=this.channels_list.get(e),n=0;n<a.length;n++){var i=a[n];if(i.remocon_id===t)return i}return null},getPreviousAndCurrentAndNextChannel:function(t){for(var e=this.channels_list.get(this.getChannelType(t,!0)),a=0;a<e.length;a++){var n=e[a];if(n.channel_id===t){var i=a-1;-1===i&&(i=e.length-1);var s=a+1;return s===e.length&&(s=0),[e[i],e[a],e[s]]}}},getProgramTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==t&&"2000-01-01T00:00:00+09:00"!==t.start_time){et.a.locale("ja");var a=et()(t.start_time),n=et()(t.end_time),i=t.duration/60;return!0===e?"".concat(a.format("HH:mm")," ～ ").concat(n.format("HH:mm")):"".concat(a.format("YYYY/MM/DD (dd) HH:mm")," ～ ").concat(n.format("HH:mm")," (").concat(i,"分)")}return!0===e?"--:-- ～ --:--":"----/--/-- (-) --:-- ～ --:-- (--分)"},getProgramProgress:function(t){if(null!==t){var e=et()(et()()).diff(t.start_time,"second");return e/t.duration*100}return 0},updatePinnedChannelList:function(){this.pinned_channel_ids=st.getSettingsItem("pinned_channel_ids");var t,e=[],a=Object(V["a"])(this.pinned_channel_ids);try{for(a.s();!(t=a.n()).done;){var n,i=t.value,s=this.getChannelType(i,!0),r=Object(V["a"])(this.channels_list.get(s));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(i===o.channel_id){e.push(o);break}}}catch(l){r.e(l)}finally{r.f()}}}catch(l){a.e(l)}finally{a.f()}e.length>0?this.channels_list.has("ピン留め")?this.channels_list.set("ピン留め",e):this.channels_list=new Map([["ピン留め",e]].concat(Object(Z["a"])(this.channels_list))):this.channels_list.has("ピン留め")&&(void 0!==this.tab&&0===this.tab&&(this.tab=1),this.channels_list.delete("ピン留め"))}}}),ct=lt,pt=Object(d["a"])(ct,rt,ot,!1,null,null,null),ut=pt.exports,dt=ut.extend({name:"Home",components:{Header:z,Navigation:Q},data:function(){return{tab:null,is_loading:!0,interval_ids:[]}},created:function(){var t=this;this.update();var e=60-Math.floor((new Date).getTime()/1e3)%60;this.interval_ids.push(window.setTimeout((function(){t.update(),t.interval_ids.push(window.setInterval((function(){t.update()}),6e4))}),1e3*e))},beforeDestroy:function(){var t,e=Object(V["a"])(this.interval_ids);try{for(e.s();!(t=e.n()).done;){var a=t.value;window.clearInterval(a)}}catch(n){e.e(n)}finally{e.f()}},methods:{update:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].axios.get("".concat(t.api_base_url,"/channels"));case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return");case 10:n=function(t){return t.is_display},t.channels_list=new Map,a.data.GR.length>0&&t.channels_list.set("地デジ",a.data.GR.filter(n)),a.data.BS.length>0&&t.channels_list.set("BS",a.data.BS.filter(n)),a.data.CS.length>0&&t.channels_list.set("CS",a.data.CS.filter(n)),a.data.CATV.length>0&&t.channels_list.set("CATV",a.data.CATV.filter(n)),a.data.SKY.length>0&&t.channels_list.set("SKY",a.data.SKY.filter(n)),a.data.STARDIGIO.length>0&&t.channels_list.set("StarDigio",a.data.STARDIGIO.filter(n)),t.updatePinnedChannelList(),t.is_loading=!1;case 20:case"end":return e.stop()}}),e,null,[[0,6]])})))()},addPinnedChannel:function(t){this.pinned_channel_ids=st.getSettingsItem("pinned_channel_ids"),this.pinned_channel_ids.push(t),st.setSettingsItem("pinned_channel_ids",this.pinned_channel_ids),this.updatePinnedChannelList()},removePinnedChannel:function(t){this.pinned_channel_ids=st.getSettingsItem("pinned_channel_ids"),this.pinned_channel_ids.splice(this.pinned_channel_ids.indexOf(t),1),st.setSettingsItem("pinned_channel_ids",this.pinned_channel_ids),this.updatePinnedChannelList()},isPinnedChannel:function(t){return this.pinned_channel_ids.includes(t)}}}),_t=dt,ht=(a("92b8"),a("387a"),a("71a3")),mt=Object(d["a"])(_t,E,A,!1,null,"47499633",null),vt=mt.exports;h()(mt,{VSpacer:F["a"],VTab:ht["a"]}),K()(mt,{Ripple:G["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-container"},[a("main",{staticClass:"watch-container",class:{"watch-container--control-visible":t.is_control_display,"watch-container--panel-visible":t.is_panel_display}},[a("nav",{staticClass:"watch-navigation"},[a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__icon",attrs:{to:"/tv/"}},[a("img",{staticClass:"watch-navigation__icon-image",attrs:{src:"/assets/img/icon.svg",width:"23px"}})]),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/tv/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:tv-20-regular",width:"26px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/videos/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:movies-and-tv-20-regular",width:"26px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/schedules/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:calendar-ltr-20-regular",width:"26px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/captures/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:image-multiple-24-regular",width:"26px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/watchlists/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"ic:round-playlist-play",width:"26px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/histories/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:history-16-regular",width:"26px"}})],1),a("v-spacer"),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",to:"/settings/"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:settings-20-regular",width:"26px"}})],1),a("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"watch-navigation__link",attrs:{"active-class":"watch-navigation__link--active",href:"https://github.com/tsukumijima/KonomiTV"}},[a("Icon",{staticClass:"watch-navigation__link-icon",attrs:{icon:"fluent:info-16-regular",width:"26px"}})],1)],1),a("div",{staticClass:"watch-content",on:{mousemove:function(e){return t.controlVisibleTimer("player",e)},touchmove:function(e){return t.controlVisibleTimer("player",e)},click:function(e){return t.controlVisibleTimer("player",e)}}},[a("header",{staticClass:"watch-header"},[a("img",{staticClass:"watch-header__broadcaster",attrs:{src:t.api_base_url+"/channels/"+t.$route.params.channel_id+"/logo"}}),a("span",{staticClass:"watch-header__program-title",domProps:{innerHTML:t._s(t.decorateProgramInfo(t.channel.program_present,"title"))}}),a("span",{staticClass:"watch-header__program-time"},[t._v(t._s(t.getProgramTime(t.channel.program_present,!0)))]),a("v-spacer"),a("span",{staticClass:"watch-header__now"},[t._v(t._s(t.time))])],1),a("div",{staticClass:"watch-player",class:{"watch-player--loading":t.is_loading}},[a("div",{staticClass:"watch-player__background",class:{"watch-player__background--visible":t.is_background_display},style:{backgroundImage:"url("+t.background_url+")"}},[a("img",{staticClass:"watch-player__background-logo",attrs:{src:"/assets/img/logo.svg"}})]),a("div",{staticClass:"watch-player__dplayer"}),a("div",{staticClass:"watch-player__button",on:{mousemove:function(e){return t.controlVisibleTimer("panel",e)},touchmove:function(e){return t.controlVisibleTimer("panel",e)},click:function(e){return t.controlVisibleTimer("panel",e)}}},[a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"tooltip",rawName:"v-tooltip.top",value:"前のチャンネル",expression:"'前のチャンネル'",modifiers:{top:!0}}],staticClass:"switch-button switch-button-up",attrs:{to:"/tv/watch/"+t.channel_previous.channel_id}},[a("Icon",{staticClass:"switch-button-icon",attrs:{icon:"fluent:ios-arrow-left-24-filled",width:"32px",rotate:"1"}})],1),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"switch-button switch-button-panel switch-button-panel--open",on:{click:function(e){t.is_panel_display=!t.is_panel_display}}},[a("Icon",{staticClass:"switch-button-icon",attrs:{icon:"fluent:navigation-16-filled",width:"32px"}})],1),a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"tooltip",rawName:"v-tooltip.bottom",value:"次のチャンネル",expression:"'次のチャンネル'",modifiers:{bottom:!0}}],staticClass:"switch-button switch-button-down",attrs:{to:"/tv/watch/"+t.channel_next.channel_id}},[a("Icon",{staticClass:"switch-button-icon",attrs:{icon:"fluent:ios-arrow-right-24-filled",width:"33px",rotate:"1"}})],1)],1)])]),a("div",{staticClass:"watch-panel",on:{mousemove:function(e){return t.controlVisibleTimer("panel",e)},touchmove:function(e){return t.controlVisibleTimer("panel",e)},click:function(e){return t.controlVisibleTimer("panel",e)}}},[a("div",{staticClass:"watch-panel__header"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"panel-close-button",on:{click:function(e){t.is_panel_display=!1}}},[a("Icon",{staticClass:"panel-close-button__icon",attrs:{icon:"akar-icons:chevron-right",width:"25px"}}),a("span",{staticClass:"panel-close-button__text"},[t._v("閉じる")])],1),a("v-spacer"),a("div",{staticClass:"panel-broadcaster"},[a("img",{staticClass:"panel-broadcaster__icon",attrs:{src:t.api_base_url+"/channels/"+t.$route.params.channel_id+"/logo"}}),a("div",{staticClass:"panel-broadcaster__number"},[t._v(t._s(t.channel.channel_number))]),a("div",{staticClass:"panel-broadcaster__name"},[t._v(t._s(t.channel.channel_name))])])],1),a("div",{staticClass:"watch-panel__content-container"},[a("Program",{staticClass:"watch-panel__content",class:{"watch-panel__content--active":"Program"===t.panel_active_tab},attrs:{channel_props:t.channel}}),a("Channel",{staticClass:"watch-panel__content",class:{"watch-panel__content--active":"Channel"===t.panel_active_tab},attrs:{channels_list_props:t.channels_list}}),a("Comment",{staticClass:"watch-panel__content",class:{"watch-panel__content--active":"Comment"===t.panel_active_tab},attrs:{channel_props:t.channel,player:t.player}})],1),a("div",{staticClass:"watch-panel__navigation"},[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"panel-navigation-button",class:{"panel-navigation-button--active":"Program"===t.panel_active_tab},on:{click:function(e){t.panel_active_tab="Program"}}},[a("Icon",{staticClass:"panel-navigation-button__icon",attrs:{icon:"fa-solid:info-circle",width:"33px"}}),a("span",{staticClass:"panel-navigation-button__text"},[t._v("番組情報")])],1),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"panel-navigation-button",class:{"panel-navigation-button--active":"Channel"===t.panel_active_tab},on:{click:function(e){t.panel_active_tab="Channel"}}},[a("Icon",{staticClass:"panel-navigation-button__icon",attrs:{icon:"fa-solid:broadcast-tower",width:"34px"}}),a("span",{staticClass:"panel-navigation-button__text"},[t._v("チャンネル")])],1),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"panel-navigation-button",class:{"panel-navigation-button--active":"Comment"===t.panel_active_tab},on:{click:function(e){t.panel_active_tab="Comment"}}},[a("Icon",{staticClass:"panel-navigation-button__icon",attrs:{icon:"bi:chat-left-text-fill",width:"29px"}}),a("span",{staticClass:"panel-navigation-button__text"},[t._v("コメント")])],1),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"panel-navigation-button",class:{"panel-navigation-button--active":"Twitter"===t.panel_active_tab},on:{click:function(e){t.panel_active_tab="Twitter"}}},[a("Icon",{staticClass:"panel-navigation-button__icon",attrs:{icon:"fa-brands:twitter",width:"34px"}}),a("span",{staticClass:"panel-navigation-button__text"},[t._v("Twitter")])],1)])])])])},ft=[],bt=a("3835"),yt=(a("b0c0"),a("38cf"),a("a9e3"),a("f7a5")),wt=a.n(yt),Ct=a("40b9"),kt=a.n(Ct),xt={id:"NID0-SID0",service_id:0,network_id:0,event_id:0,channel_id:"gr000",title:"取得中…",description:"取得中…",detail:{},start_time:"2000-01-01T00:00:00+09:00",end_time:"2000-01-01T00:00:00+09:00",duration:0,is_free:!0,genre:[],video_type:"映像1080i(1125i)、アスペクト比16:9 パンベクトルなし",video_codec:"mpeg2",video_resolution:"1080i",primary_audio_type:"2/0モード(ステレオ)",primary_audio_language:"日本語",primary_audio_sampling_rate:"48kHz",secondary_audio_type:null,secondary_audio_language:null,secondary_audio_sampling_rate:null},St={id:"NID0-SID0",service_id:0,network_id:0,transport_stream_id:null,remocon_id:null,channel_id:"gr000",channel_number:"---",channel_name:"取得中…",channel_type:"GR",channel_force:null,channel_comment:null,is_subchannel:!1,is_display:!0,viewers:0,program_present:xt,program_following:xt},It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"channels-container channels-container--watch"},[a("v-tabs-fix",{staticClass:"channels-tab",attrs:{centered:"","show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Array.from(t.channels_list_props),(function(e){var n=e[0];return a("v-tab",{key:n,staticClass:"channels-tab__item"},[t._v(" "+t._s(n)+" ")])})),1),a("div",{staticClass:"channels-list-container"},[a("v-tabs-items-fix",{staticClass:"channels-list",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(Array.from(t.channels_list_props),(function(e){var n=e[0],i=e[1];return a("v-tab-item-fix",{key:n,staticClass:"channels"},t._l(i,(function(e){return a("router-link",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"channel",attrs:{to:"/tv/watch/"+e.channel_id}},[a("div",{staticClass:"channel__broadcaster"},[a("img",{staticClass:"channel__broadcaster-icon",attrs:{src:t.api_base_url+"/channels/"+e.channel_id+"/logo"}}),a("div",{staticClass:"channel__broadcaster-content"},[a("span",{staticClass:"channel__broadcaster-name"},[t._v("Ch: "+t._s(e.channel_number)+" "+t._s(e.channel_name))]),a("div",{staticClass:"channel__broadcaster-force",class:"channel__broadcaster-force--"+t.getChannelForceType(e.channel_force)},[a("Icon",{attrs:{icon:"fa-solid:fire-alt",height:"10px"}}),a("span",{staticClass:"ml-1"},[t._v(t._s(t.getAttribute(e,"channel_force","-")))])],1)])]),a("div",{staticClass:"channel__program-present"},[a("span",{staticClass:"channel__program-present-title",domProps:{innerHTML:t._s(t.decorateProgramInfo(e.program_present,"title"))}}),a("span",{staticClass:"channel__program-present-time"},[t._v(t._s(t.getProgramTime(e.program_present)))])]),a("div",{staticClass:"channel__program-following"},[a("div",{staticClass:"channel__program-following-title"},[a("span",{staticClass:"channel__program-following-title-decorate"},[t._v("NEXT")]),a("Icon",{staticClass:"channel__program-following-title-icon",attrs:{icon:"fluent:fast-forward-20-filled",width:"16px"}}),a("span",{staticClass:"channel__program-following-title-text",domProps:{innerHTML:t._s(t.decorateProgramInfo(e.program_following,"title"))}})],1),a("span",{staticClass:"channel__program-following-time"},[t._v(t._s(t.getProgramTime(e.program_following)))])]),a("div",{staticClass:"channel__progressbar"},[a("div",{staticClass:"channel__progressbar-progress",style:"width:"+t.getProgramProgress(e.program_present)+"%;"})])])})),1)})),1)],1)],1)},Tt=[],Pt=ut.extend({name:"Channels",props:{channels_list_props:{type:Map,required:!0}},data:function(){return{tab:null}}}),Ot=Pt,Nt=(a("1817"),a("7b9e"),Object(d["a"])(Ot,It,Tt,!1,null,"03ecf16a",null)),Rt=Nt.exports;h()(Nt,{VTab:ht["a"]}),K()(Nt,{Ripple:G["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-container"},[a("section",{staticClass:"comment-header"},[a("h2",{staticClass:"comment-header__title"},[a("Icon",{staticClass:"comment-header__title-icon",attrs:{icon:"bi:chat-left-text-fill",height:"18.5px"}}),a("span",{staticClass:"comment-header__title-text"},[t._v("コメント")])],1),a("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"comment-header__button ml-auto"},[a("Icon",{attrs:{icon:"heroicons-solid:filter",height:"11px"}}),a("span",{staticClass:"ml-1"},[t._v("コメントフィルター")])],1)]),a("DynamicScroller",{staticClass:"comment-list",attrs:{direction:"vertical",items:t.comment_list,"min-item-size":34},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,i=e.active;return[a("DynamicScrollerItem",{attrs:{item:n,active:i,"size-dependencies":[n.text]}},[a("div",{staticClass:"comment"},[a("span",{staticClass:"comment__text"},[t._v(t._s(n.text))]),a("span",{staticClass:"comment__time"},[t._v(t._s(n.time))])])])]}}])})],1)},At=[],Dt=(a("1276"),ut.extend({name:"Comment",props:{channel_props:{type:Object,required:!0},player:{type:null,required:!0}},data:function(){return{comment_list:[],watch_session:null,comment_session:null,keep_seat_interval_id:0,resize_observer:null,resize_observer_element:null}},beforeDestroy:function(){this.destroy(),this.resize_observer.unobserve(this.resize_observer_element)},watch:{channel_props:function(t,e){var a=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.channel_id===e.channel_id){n.next=14;break}if("gr000"===e.channel_id){n.next=6;break}return n.next=4,new Promise((function(t){return setTimeout(t,500)}));case 4:if(a.channel_props.channel_id===t.channel_id){n.next=6;break}return n.abrupt("return");case 6:return a.destroy(),n.next=9,a.initWatchSession();case 9:return i=n.sent,n.next=12,a.initCommentSession(i);case 12:return n.next=14,a.initReserveObserver();case 14:case"end":return n.stop()}}),n)})))()}},methods:{initWatchSession:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].axios.get("".concat(t.api_base_url,"/channels/").concat(t.channel_props.channel_id,"/jikkyo"));case 3:a=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),new Error(e.t0);case 9:if(!1!==a.data.is_success){e.next=11;break}throw new Error(a.data.detail);case 11:return e.abrupt("return",new Promise((function(e){t.watch_session=new WebSocket(a.data.audience_token),t.watch_session.addEventListener("open",(function(){t.watch_session.send(JSON.stringify({type:"startWatching",data:{reconnect:!1}}))})),t.watch_session.addEventListener("message",function(){var a=Object(D["a"])(regeneratorRuntime.mark((function a(n){var i,s,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=JSON.parse(n.data),a.t0=i.type,a.next="room"===a.t0?4:"seat"===a.t0?5:"ping"===a.t0?7:"error"===a.t0?9:"reconnect"===a.t0?33:"disconnect"===a.t0?43:79;break;case 4:return a.abrupt("return",e({thread_id:i.data.threadId,your_post_key:i.data.yourPostKey?i.data.yourPostKey:null,message_server:i.data.messageServer.uri}));case 5:return t.keep_seat_interval_id=window.setInterval((function(){1===t.watch_session.readyState?t.watch_session.send(JSON.stringify({type:"keepSeat"})):window.clearInterval(t.keep_seat_interval_id)}),1e3*i.data.keepIntervalSec),a.abrupt("break",79);case 7:return t.watch_session.send(JSON.stringify({type:"pong"})),a.abrupt("break",79);case 9:a.t1=i.data.code,a.next="CONNECT_ERROR"===a.t1?12:"CONTENT_NOT_READY"===a.t1?14:"NO_THREAD_AVAILABLE"===a.t1?16:"NO_ROOM_AVAILABLE"===a.t1?18:"NO_PERMISSION"===a.t1?20:"NOT_ON_AIR"===a.t1?22:"BROADCAST_NOT_FOUND"===a.t1?24:"INTERNAL_SERVERERROR"===a.t1?26:28;break;case 12:return s="コメントサーバーに接続できません。",a.abrupt("break",30);case 14:return s="ニコニコ実況が配信できない状態です。",a.abrupt("break",30);case 16:return s="コメントスレッドを取得できません。",a.abrupt("break",30);case 18:return s="コメント部屋を取得できません。",a.abrupt("break",30);case 20:return s="API にアクセスする権限がありません。",a.abrupt("break",30);case 22:return s="ニコニコ実況が放送中ではありません。",a.abrupt("break",30);case 24:return s="ニコニコ実況の配信情報を取得できません。",a.abrupt("break",30);case 26:return s="ニコニコ実況でサーバーエラーが発生しています。",a.abrupt("break",30);case 28:return s="ニコニコ実況でエラーが発生しています。(".concat(i.data.code,")"),a.abrupt("break",30);case 30:return console.log("error occurred. code: ".concat(i.data.code)),t.player.danmaku.showing&&t.player.notice(s),a.abrupt("break",79);case 33:return t.destroy(),a.next=36,new Promise((function(t){return setTimeout(t,1e3*i.data.waitTimeSec)}));case 36:return t.player.danmaku.showing&&t.player.notice("ニコニコ実況に再接続しています…"),a.next=39,t.initWatchSession();case 39:return r=a.sent,a.next=42,t.initCommentSession(r);case 42:return a.abrupt("break",79);case 43:t.watch_session&&(t.watch_session.onclose=null),a.t2=i.data.reason,a.next="TAKEOVER"===a.t2?47:"NO_PERMISSION"===a.t2?49:"END_PROGRAM"===a.t2?51:"PING_TIMEOUT"===a.t2?53:"TOO_MANY_CONNECTIONS"===a.t2?55:"TOO_MANY_WATCHINGS"===a.t2?57:"CROWDED"===a.t2?59:"MAINTENANCE_IN"===a.t2?61:"SERVICE_TEMPORARILY_UNAVAILABLE"===a.t2?63:65;break;case 47:return o="ニコニコ実況の番組から追い出されました。",a.abrupt("break",67);case 49:return o="ニコニコ実況の番組の座席を取得できませんでした。",a.abrupt("break",67);case 51:return o="ニコニコ実況がリセットされたか、コミュニティの番組が終了しました。",a.abrupt("break",67);case 53:return o="コメントサーバーとの接続生存確認に失敗しました。",a.abrupt("break",67);case 55:return o="ニコニコ実況の同一ユーザからの接続数上限を越えています。",a.abrupt("break",67);case 57:return o="ニコニコ実況の同一ユーザからの視聴番組数上限を越えています。",a.abrupt("break",67);case 59:return o="ニコニコ実況の番組が満席です。",a.abrupt("break",67);case 61:return o="ニコニコ実況はメンテナンス中です。",a.abrupt("break",67);case 63:return o="ニコニコ実況で一時的にサーバーエラーが発生しています。",a.abrupt("break",67);case 65:return o="ニコニコ実況との接続が切断されました。(".concat(i.data.reason,")"),a.abrupt("break",67);case 67:return console.log("disconnected. reason: ".concat(i.data.reason)),t.player.danmaku.showing&&t.player.notice(o),t.destroy(),a.next=72,new Promise((function(t){return setTimeout(t,5e3)}));case 72:return t.player.danmaku.showing&&t.player.notice("ニコニコ実況に再接続しています…"),a.next=75,t.initWatchSession();case 75:return l=a.sent,a.next=78,t.initCommentSession(l);case 78:return a.abrupt("break",79);case 79:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),t.watch_session.onclose=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("disconnected. code: ".concat(a.code)),t.player.danmaku.showing&&t.player.notice("ニコニコ実況との接続が切断されました。(code: ".concat(a.code,")")),t.destroy(),e.next=5,new Promise((function(t){return setTimeout(t,1e4)}));case 5:return t.player.danmaku.showing&&t.player.notice("ニコニコ実況に再接続しています…"),e.next=8,t.initWatchSession();case 8:return n=e.sent,e.next=11,t.initCommentSession(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})));case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))()},initCommentSession:function(t){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=document.querySelector(".comment-list"),i=!1,e.comment_session=new WebSocket(t.message_server),e.comment_session.addEventListener("open",(function(){e.comment_session.send(JSON.stringify([{ping:{content:"rs:0"}},{ping:{content:"ps:0"}},{thread:{version:"20061206",thread:t.thread_id,threadkey:t.your_post_key,user_id:"",res_from:-50}},{ping:{content:"pf:0"}},{ping:{content:"rf:0"}}]))})),e.comment_session.addEventListener("message",function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(a){var s,r,o,l,c,p,u,d,_,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=JSON.parse(a.data),void 0!==s.thread&&(0===s.thread.resultcode||(r="コメントサーバーに接続できませんでした。",console.error("Error: "+r))),void 0===s.ping||"rf:0"!==s.ping.content){t.next=12;break}i=!0,o=0;case 5:if(!(o<3)){t.next=12;break}return t.next=8,new Promise((function(t){return setTimeout(t,10)}));case 8:n.scrollTop=n.scrollHeight;case 9:o++,t.next=5;break;case 12:if(l=s.chat,void 0!==l&&void 0!==l.content&&!l.content.match(/\/[a-z]+ /)){t.next=15;break}return t.abrupt("return");case 15:if(!l.yourpost||1!==l.yourpost){t.next=17;break}return t.abrupt("return");case 17:if(c="#FFEAEA",p="right",void 0!==l.mail&&null!==l.mail){u=l.mail.replace("184","").split(" "),d=Object(V["a"])(u);try{for(d.s();!(_=d.n()).done;)h=_.value,null!==e.getCommentColor(h)&&(c=e.getCommentColor(h)),null!==e.getCommentPosition(h)&&(p=e.getCommentPosition(h))}catch(v){d.e(v)}finally{d.f()}}if(!i){t.next=23;break}return t.next=23,new Promise((function(t){return setTimeout(t,1e3)}));case 23:if(e.comment_list.length>500&&e.comment_list.shift(),e.comment_list.push({id:l.no,text:l.content,time:et()(1e3*l.date).format("HH:mm:ss")}),!i){t.next=34;break}m=0;case 27:if(!(m<3)){t.next=34;break}return t.next=30,new Promise((function(t){return setTimeout(t,10)}));case 30:n.scrollTop=n.scrollHeight;case 31:m++,t.next=27;break;case 34:i&&(e.player.video.paused||e.player.danmaku.draw({text:l.content,color:c,type:p}));case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return a.stop()}}),a)})))()},initReserveObserver:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.resize_observer_element=document.querySelector(".watch-player"),a=null,n=function(){var e=document.querySelector(".dplayer-video-wrap-aspect"),n=document.querySelector(".dplayer-danmaku");if(null!==t.resize_observer_element&&null!==t.resize_observer_element.clientHeight){var i=(t.resize_observer_element.clientHeight-e.clientHeight)/2,s=window.matchMedia("(max-height: 450px)").matches?50:66;if(i<s){var r=2*(s-i),o=e.clientWidth,l=e.clientHeight-r,c=function t(e,a){return 0===a?e:t(a,e%a)},p=c(o,l),u="".concat(o/p," / ").concat(l/p);n.style.transition="none",n.style.setProperty("--comment-area-aspect-ratio",u),n.style.setProperty("--comment-area-vertical-margin","".concat(r,"px")),window.clearTimeout(a),window.setTimeout((function(){n.style.transition=""}),200)}else n.style.removeProperty("--comment-area-aspect-ratio"),n.style.removeProperty("--comment-area-vertical-margin")}},t.resize_observer=new ResizeObserver(n),t.resize_observer.observe(t.resize_observer_element);case 5:case"end":return e.stop()}}),e)})))()},getCommentColor:function(t){var e={red:"#E54256",pink:"#FF8080",orange:"#FFC000",yellow:"#FFE133",green:"#64DD17",cyan:"#39CCFF",blue:"#0000FF",purple:"#D500F9",black:"#1E1310",white:"#FFEAEA",white2:"#CCCC99",niconicowhite:"#CCCC99",red2:"#CC0033",truered:"#CC0033",pink2:"#FF33CC",orange2:"#FF6600",passionorange:"#FF6600",yellow2:"#999900",madyellow:"#999900",green2:"#00CC66",elementalgreen:"#00CC66",cyan2:"#00CCCC",blue2:"#3399FF",marineblue:"#3399FF",purple2:"#6633CC",nobleviolet:"#6633CC",black2:"#666666"};return void 0!==e[t]?e[t]:null},getCommentPosition:function(t){switch(t){case"ue":return"top";case"naka":return"right";case"shita":return"bottom";default:return null}},destroy:function(){this.comment_list=[],null!==this.watch_session&&(this.watch_session.onclose=null,this.watch_session.close(),this.watch_session=null),null!==this.comment_session&&(this.comment_session.onclose=null,this.comment_session.close(),this.comment_session=null),window.clearInterval(this.keep_seat_interval_id)}}})),Vt=Dt,jt=(a("de5e"),Object(d["a"])(Vt,Et,At,!1,null,"129589f4",null)),Mt=jt.exports;K()(jt,{Ripple:G["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"program-container"},[a("section",{staticClass:"program-broadcaster"},[a("img",{staticClass:"program-broadcaster__icon",attrs:{src:t.api_base_url+"/channels/"+t.$route.params.channel_id+"/logo"}}),a("div",{staticClass:"program-broadcaster__number"},[t._v("Ch: "+t._s(t.channel_props.channel_number))]),a("div",{staticClass:"program-broadcaster__name"},[t._v(t._s(t.channel_props.channel_name))])]),a("section",{staticClass:"program-info"},[a("h1",{staticClass:"program-info__title",domProps:{innerHTML:t._s(t.decorateProgramInfo(t.channel_props.program_present,"title"))}}),a("div",{staticClass:"program-info__time"},[t._v(t._s(t.getProgramTime(t.channel_props.program_present)))]),a("div",{staticClass:"program-info__description",domProps:{innerHTML:t._s(t.decorateProgramInfo(t.channel_props.program_present,"description"))}}),a("div",{staticClass:"program-info__genre-container"},t._l(t.getAttribute(t.channel_props.program_present,"genre",[]),(function(e,n){return a("div",{key:n,staticClass:"program-info__genre"},[t._v(" "+t._s(e.major)+" / "+t._s(e.middle)+" ")])})),0),a("div",{staticClass:"program-info__next"},[a("span",{staticClass:"program-info__next-decorate"},[t._v("NEXT")]),a("Icon",{staticClass:"program-info__next-icon",attrs:{icon:"fluent:fast-forward-20-filled",width:"16px"}})],1),a("span",{staticClass:"program-info__next-title",domProps:{innerHTML:t._s(t.decorateProgramInfo(t.channel_props.program_following,"title"))}}),a("div",{staticClass:"program-info__next-time"},[t._v(t._s(t.getProgramTime(t.channel_props.program_following)))]),a("div",{staticClass:"program-info__status"},[a("div",{staticClass:"program-info__status-force",class:"program-info__status-force--"+t.getChannelForceType(t.channel_props.channel_force)},[a("Icon",{attrs:{icon:"fa-solid:fire-alt",height:"14px"}}),a("span",{staticClass:"ml-2"},[t._v("勢い:")]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.getAttribute(t.channel_props,"channel_force","--"))+" コメ/分")])],1),a("div",{staticClass:"program-info__status-viewers ml-5"},[a("Icon",{attrs:{icon:"fa-solid:eye",height:"14px"}}),a("span",{staticClass:"ml-2"},[t._v("視聴数:")]),a("span",{staticClass:"ml-1"},[t._v(t._s(t.channel_props.viewers))])],1)])]),a("section",{staticClass:"program-detail-container"},t._l(t.getAttribute(t.channel_props.program_present,"detail",{}),(function(e,n){return a("div",{key:n,staticClass:"program-detail"},[a("h2",{staticClass:"program-detail__heading"},[t._v(t._s(n))]),a("div",{staticClass:"program-detail__text"},[t._v(t._s(e))])])})),0)])},Lt=[],Ft=ut.extend({name:"Program",props:{channel_props:{type:Object,required:!0}}}),$t=Ft,Bt=(a("4a59"),Object(d["a"])($t,Ht,Lt,!1,null,"f43495c2",null)),Kt=Bt.exports,Gt=ut.extend({name:"Watch",components:{Channel:Rt,Comment:Mt,Program:Kt},data:function(){return{time:et()().format("YYYY/MM/DD HH:mm:ss"),panel_active_tab:st.getSettingsItem("panel_active_tab"),background_url:"",is_loading:!0,is_background_display:!1,is_control_display:!0,is_panel_display:function(){switch(st.getSettingsItem("panel_display_state")){case"AlwaysDisplay":return!0;case"AlwaysFold":return!1;case"RestorePreviousState":return st.getSettingsItem("is_latest_panel_display")}}(),interval_ids:[],control_interval_id:0,channel_id:this.$route.params.channel_id,channel:St,channel_previous:St,channel_next:St,player:null,eventsource:null,shortcut_key_handler:null,shortcut_key_pressed_at:Date.now()}},created:function(){this.init()},beforeDestroy:function(){this.destroy(!0),null!==this.shortcut_key_handler&&(document.removeEventListener("keydown",this.shortcut_key_handler),this.shortcut_key_handler=null)},beforeRouteUpdate:function(t,e,a){var n=this;this.destroy(),this.channel_id=t.params.channel_id;var i=this.getPreviousAndCurrentAndNextChannel(this.channel_id),s=Object(bt["a"])(i,3);this.channel_previous=s[0],this.channel=s[1],this.channel_next=s[2],this.interval_ids.push(window.setTimeout((function(){n.init()}),500)),a()},watch:{is_panel_display:function(){st.setSettingsItem("is_latest_panel_display",this.is_panel_display)}},methods:{init:function(){var t=this;this.background_url=st.generatePlayerBackgroundURL(),this.controlVisibleTimer("normal"),this.update(),this.interval_ids.push(window.setInterval((function(){t.time=et()().format("YYYY/MM/DD HH:mm:ss")}),1e3));var e=60-Math.floor((new Date).getTime()/1e3)%60;this.interval_ids.push(window.setTimeout((function(){t.update(),t.interval_ids.push(window.setInterval((function(){t.update()}),6e4))}),1e3*e))},update:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t.$route.params.channel_id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r["a"].axios.get("".concat(t.api_base_url,"/channels/").concat(t.channel_id));case 5:a=e.sent,e.next=15;break;case 8:if(e.prev=8,e.t0=e["catch"](2),console.error(e.t0),!e.t0.response||422!==e.t0.response.status||"Specified channel_id was not found"!==e.t0.response.data.detail){e.next=14;break}return e.next=14,t.$router.replace({path:"/not-found/"});case 14:return e.abrupt("return");case 15:return t.channel=a.data,null!==t.player&&!0!==t.player.KonomiTVCanDestroy||(t.initPlayer(),t.initEventHandler(),t.initShortcutKeyHandler()),null===t.channel.program_present||"1/0+1/0モード(デュアルモノ)"!==t.channel.program_present.primary_audio_type&&null===t.channel.program_present.secondary_audio_type?(t.player.template.audioItem[1].classList.add("dplayer-setting-audio-item--disabled"),t.player.plugins.mpegts&&window.setTimeout((function(){t.player.template.audioItem[0].classList.add("dplayer-setting-audio-current"),t.player.template.audioItem[1].classList.remove("dplayer-setting-audio-current"),t.player.template.audioValue.textContent=t.player.tran("Primary audio");try{t.player.plugins.mpegts.switchPrimaryAudio()}catch(e){}}),300)):t.player.template.audioItem[1].classList.remove("dplayer-setting-audio-item--disabled"),e.prev=18,e.next=21,r["a"].axios.get("".concat(t.api_base_url,"/channels"));case 21:n=e.sent,e.next=28;break;case 24:return e.prev=24,e.t1=e["catch"](18),console.error(e.t1),e.abrupt("return");case 28:i=function(e){return e.is_display||t.channel_id===e.channel_id},t.channels_list=new Map,n.data.GR.length>0&&t.channels_list.set("地デジ",n.data.GR.filter(i)),n.data.BS.length>0&&t.channels_list.set("BS",n.data.BS.filter(i)),n.data.CS.length>0&&t.channels_list.set("CS",n.data.CS.filter(i)),n.data.CATV.length>0&&t.channels_list.set("CATV",n.data.CATV.filter(i)),n.data.SKY.length>0&&t.channels_list.set("SKY",n.data.SKY.filter(i)),n.data.STARDIGIO.length>0&&t.channels_list.set("StarDigio",n.data.STARDIGIO.filter(i)),t.updatePinnedChannelList(),s=t.getPreviousAndCurrentAndNextChannel(t.channel_id),o=Object(bt["a"])(s,3),t.channel_previous=o[0],t.channel_next=o[2],"mediaSession"in navigator&&(l=[{src:"/assets/img/icons/icon-maskable-192px.png",sizes:"192x192",type:"image/png"},{src:"/assets/img/icons/icon-maskable-512px.png",sizes:"512x512",type:"image/png"}],navigator.mediaSession.metadata=new MediaMetadata({title:t.channel.program_present?t.channel.program_present.title:"放送休止",artist:t.channel.channel_name,artwork:l}),"setPositionState"in navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:0,playbackRate:1}),navigator.mediaSession.setActionHandler("play",(function(){t.player.play()})),navigator.mediaSession.setActionHandler("pause",(function(){t.player.pause()})),navigator.mediaSession.setActionHandler("previoustrack",Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return navigator.mediaSession.metadata=new MediaMetadata({title:t.channel_previous.program_present?t.channel_previous.program_present.title:"放送休止",artist:t.channel_previous.channel_name,artwork:l}),e.next=3,t.$router.replace({path:"/tv/watch/".concat(t.channel_previous.channel_id)});case 3:case"end":return e.stop()}}),e)})))),navigator.mediaSession.setActionHandler("nexttrack",Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return navigator.mediaSession.metadata=new MediaMetadata({title:t.channel_next.program_present?t.channel_next.program_present.title:"放送休止",artist:t.channel_next.channel_name,artwork:l}),e.next=3,t.$router.replace({path:"/tv/watch/".concat(t.channel_next.channel_id)});case 3:case"end":return e.stop()}}),e)})))));case 42:case"end":return e.stop()}}),e,null,[[2,8],[18,24]])})))()},controlVisibleTimer:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=/iPhone|iPad|iPod|Android|Mobile/i.test(window.navigator.userAgent);if((1!=n||null===a||"mousemove"!==a.type)&&(0!=n||null===a||"touchmove"!==a.type&&"click"!==a.type)){window.clearTimeout(this.control_interval_id);var i=function(){e.is_control_display=!1,null!==e.player&&(e.player.controller.hide(),e.player.setting.hide())};!0===n&&"player"===t?this.player.controller.isShow()?(this.is_control_display=!0,this.player.controller.show(),this.control_interval_id=window.setTimeout(i,3e3)):(this.is_control_display=!1,this.player.controller.hide(),this.player.setting.hide()):(this.is_control_display=!0,null!==this.player&&this.player.controller.show(),this.control_interval_id=window.setTimeout(i,3e3))}},initPlayer:function(){var t=this;if(window.mpegts=kt.a,null!==this.player&&!0===this.player.KonomiTVCanDestroy){try{this.player.destroy()}catch(a){this.player.plugins.mpegts.destroy()}this.player=null}this.player=new wt.a({container:document.querySelector(".watch-player__dplayer"),theme:"#E64F97",lang:"ja-jp",live:!0,loop:!1,airplay:!1,autoplay:!0,hotkey:!1,screenshot:!0,volume:1,video:{defaultQuality:st.getSettingsItem("tv_streaming_quality"),quality:function(){for(var e=[],a=0,n=["1080p","810p","720p","540p","480p","360p","240p"];a<n.length;a++){var i=n[a];e.push({name:i,type:"mpegts",url:"".concat(t.api_base_url,"/streams/live/").concat(t.channel_id,"/").concat(i,"/mpegts")})}return e}()},danmaku:{height:38},apiBackend:{read:function(t){t.success([{}])},send:function(t){t.error("現在、コメントの送信には対応していません。")}},pluginOptions:{mpegts:{config:{enableWorker:!0,liveBufferLatencyChasing:!0,liveBufferLatencyMaxLatency:3,liveBufferLatencyMinRemain:.5}},aribb24:{normalFont:'"Windows TV MaruGothic", "Hiragino Maru Gothic Pro", "Yu Gothic Medium", sans-serif',gaijiFont:'"Windows TV MaruGothic", "Hiragino Maru Gothic Pro", "Yu Gothic Medium", sans-serif',forceStrokeColor:"black",drcsReplacement:!0,enableRawCanvas:!0,useStrokeText:!0}},subtitle:{type:"aribb24"}}),window.player=this.player;var e=function(){t.player.setting.hide(),t.controlVisibleTimer("normal")};this.player.on("play",e),this.player.on("pause",e),this.player.on("quality_start",(function(){t.background_url=st.generatePlayerBackgroundURL(),null!==t.eventsource&&(t.eventsource.close(),t.eventsource=null),t.initEventHandler()}))},initEventHandler:function(){var t=this;this.is_loading=!0;var e=function(){window.setTimeout((function(){t.is_loading=!1,t.is_background_display=!1}),100),t.player.video.oncanplay=null,t.player.video.oncanplaythrough=null};this.player.video.oncanplay=e,this.player.video.oncanplaythrough=e,this.eventsource=new EventSource("".concat(this.api_base_url,"/streams/live/").concat(this.channel_id,"/").concat(this.player.quality.name,"/events")),this.eventsource.addEventListener("initial_update",(function(e){var a=JSON.parse(e.data);"Standby"===a.status&&(t.is_background_display=!0)})),this.eventsource.addEventListener("status_update",(function(e){var a=JSON.parse(e.data);switch(console.log("Status: ".concat(a.status," Detail:").concat(a.detail)),t.channel.viewers=a.clients_count,a.status){case"Standby":t.player.template.notice.textContent.includes("画質を")||t.player.notice(a.detail,-1),t.is_background_display=!0;break;case"ONAir":t.player.template.notice.textContent.includes("画質を")||t.player.notice(t.player.template.notice.textContent,1e-6),document.pictureInPictureElement&&(document.exitPictureInPicture(),t.player.video.requestPictureInPicture());break;case"Restart":t.player.notice(a.detail,-1),t.player.switchVideo({url:t.player.quality.url,type:t.player.quality.type}),t.player.play(),t.is_background_display=!0;break;case"Offline":t.player.notice(a.detail,-1),t.player.video.onerror=function(){t.player.notice(a.detail,-1),t.player.video.onerror=null},t.player.danmaku.clear(),t.player.video.pause(),t.eventsource.close(),t.is_background_display=!0;break}})),this.eventsource.addEventListener("detail_update",(function(e){var a=JSON.parse(e.data);console.log("Status: ".concat(a.status," Detail:").concat(a.detail)),t.channel.viewers=a.clients_count,"Standby"===a.status&&(t.player.notice(a.detail,-1),t.is_background_display||(t.is_background_display=!0))})),this.eventsource.addEventListener("clients_update",(function(e){var a=JSON.parse(e.data);t.channel.viewers=a.clients_count}))},initShortcutKeyHandler:function(){var t=this;this.shortcut_key_handler=function(e){if(!e.repeat){var a=Date.now();if(!(a-t.shortcut_key_pressed_at<100)){t.shortcut_key_pressed_at=a;var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var s=t.channel.channel_type;e.shiftKey&&"GR"==t.channel.channel_type&&(s="BS"),e.shiftKey&&"BS"==t.channel.channel_type&&(s="GR");var r=null;if("Digit1"!==e.code&&"Digit2"!==e.code&&"Digit3"!==e.code&&"Digit4"!==e.code&&"Digit5"!==e.code&&"Digit6"!==e.code&&"Digit7"!==e.code&&"Digit8"!==e.code&&"Digit9"!==e.code||(r=Number(e.code.replace("Digit",""))),"Digit0"===e.code&&(r=10),"Minus"===e.code&&(r=11),"Equal"===e.code&&(r=12),"Numpad1"!==e.code&&"Numpad2"!==e.code&&"Numpad3"!==e.code&&"Numpad4"!==e.code&&"Numpad5"!==e.code&&"Numpad6"!==e.code&&"Numpad7"!==e.code&&"Numpad8"!==e.code&&"Numpad9"!==e.code||(r=Number(e.code.replace("Numpad",""))),"Numpad0"===e.code&&(r=10),null!==r){var o=t.getChannelFromRemoconID(r,s);if(null!==o&&o.channel_id!==t.channel_id)return void Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$router.replace({path:"/tv/watch/".concat(o.channel_id)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}if("ArrowUp"===e.code)return void Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$router.replace({path:"/tv/watch/".concat(t.channel_previous.channel_id)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))();if("ArrowDown"===e.code)return void Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$router.replace({path:"/tv/watch/".concat(t.channel_next.channel_id)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))();if("KeyK"===e.code)return void(t.panel_active_tab="Program");if("KeyL"===e.code)return void(t.panel_active_tab="Channel");if("Semicolon"===e.code)return void(t.panel_active_tab="Comment");if("Quote"===e.code)return void(t.panel_active_tab="Twitter");if("KeyP"===e.code)return void(t.is_panel_display=!t.is_panel_display);if(null!==t.player&&!e.ctrlKey&&!e.metaKey){if("KeyW"===e.code)return void t.player.sync();if("KeyE"===e.code)return void(document.pictureInPictureEnabled&&t.player.template.pipButton.click());if("KeyS"===e.code)return t.player.subtitle.toggle(),void(t.player.subtitle.container.classList.contains("dplayer-subtitle-hide")?t.player.notice("".concat(t.player.tran("Hide subtitle"))):t.player.notice("".concat(t.player.tran("Show subtitle"))));if("KeyD"===e.code)return t.player.template.showDanmaku.click(),void(t.player.template.showDanmakuToggle.checked?t.player.notice("".concat(t.player.tran("Show comment"))):t.player.notice("".concat(t.player.tran("Hide comment"))));if("KeyF"===e.code)return void t.player.fullScreen.toggle("browser");if("ArrowLeft"===e.code)return t.player.video.pause(),void t.player.seek(t.player.video.currentTime-.25);if("ArrowRight"===e.code)return t.player.video.pause(),void t.player.seek(t.player.video.currentTime+.25);if("Space"===e.code)return void t.player.toggle()}}}}},document.addEventListener("keydown",this.shortcut_key_handler)},destroy:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(V["a"])(this.interval_ids);try{for(n.s();!(t=n.n()).done;){var i=t.value;window.clearInterval(i)}}catch(s){n.e(s)}finally{n.f()}window.clearTimeout(this.control_interval_id),this.interval_ids=[],this.is_loading=!0,this.is_background_display=!1,this.player.KonomiTVCanDestroy=!0,null!==this.eventsource&&(this.eventsource.close(),this.eventsource=null),this.interval_ids.push(window.setTimeout((function(){if(e.player.video.pause(),!0===a&&null!==e.player){try{e.player.destroy()}catch(t){e.player.plugins.mpegts.destroy()}e.player=null}}),400))}}}),qt=Gt,Yt=(a("598f"),a("64b6"),Object(d["a"])(qt,gt,ft,!1,null,"28293097",null)),zt=Yt.exports;h()(Yt,{VSpacer:F["a"]}),K()(Yt,{Ripple:G["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Base",[a("h2",{staticClass:"settings__heading"},[a("Icon",{attrs:{icon:"fa-solid:sliders-h",width:"18px"}}),a("span",{staticClass:"ml-3"},[t._v("全般")])],1),a("div",{staticClass:"settings__content"},[a("div",{staticClass:"settings__item"},[a("div",{staticClass:"settings__item-heading"},[t._v("テレビのストリーミング画質")]),a("div",{staticClass:"settings__item-label"},[t._v(" テレビをライブストリーミングする際の既定の画質を設定します。"),a("br"),t._v(" ストリーミング画質はプレイヤーの設定からいつでも切り替えられます。"),a("br")]),a("v-select",{staticClass:"settings__item-form",attrs:{outlined:"","hide-details":"",items:t.tv_streaming_quality},model:{value:t.settings.tv_streaming_quality,callback:function(e){t.$set(t.settings,"tv_streaming_quality",e)},expression:"settings.tv_streaming_quality"}})],1),a("div",{staticClass:"settings__item"},[a("div",{staticClass:"settings__item-heading"},[t._v("既定のパネルの表示状態")]),a("div",{staticClass:"settings__item-label"},[t._v(" 視聴画面を開いたときに、右側のパネルをどう表示するかを設定します。"),a("br")]),a("v-select",{staticClass:"settings__item-form",attrs:{outlined:"","hide-details":"",items:t.panel_display_state},model:{value:t.settings.panel_display_state,callback:function(e){t.$set(t.settings,"panel_display_state",e)},expression:"settings.panel_display_state"}})],1),a("div",{staticClass:"settings__item"},[a("div",{staticClass:"settings__item-heading"},[t._v("既定で表示されるパネルのタブ")]),a("div",{staticClass:"settings__item-label"},[t._v(" 視聴画面を開いたときに、右側のパネルで最初に表示されるタブを設定します。"),a("br")]),a("v-select",{staticClass:"settings__item-form",attrs:{outlined:"","hide-details":"",items:t.panel_active_tab},model:{value:t.settings.panel_active_tab,callback:function(e){t.$set(t.settings,"panel_active_tab",e)},expression:"settings.panel_active_tab"}})],1)])])},Jt=[],Ut=(a("4fad"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-container"},[a("Header"),a("main",[a("Navigation"),a("v-card",{staticClass:"settings-container d-flex px-5 py-5 mx-auto background",attrs:{elevation:"0",width:"100%","max-width":"1000"}},[a("div",[a("v-navigation-drawer",{staticClass:"settings-navigation flex-shrink-0 background",attrs:{permanent:"",width:"195",height:"auto"}},[a("v-list-item",{staticClass:"px-4"},[a("v-list-item-content",[a("h1",[t._v("設定")])])],1),a("v-list",{staticClass:"mt-2 px-0",attrs:{nav:""}},[a("v-list-item",{staticClass:"px-4",attrs:{link:"",color:"primary",to:"/settings/general"}},[a("v-list-item-icon",{staticClass:"mr-4"},[a("Icon",{staticStyle:{padding:"0 3px"},attrs:{icon:"fa-solid:sliders-h",width:"26px"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("全般")])],1)],1),a("v-list-item",{staticClass:"px-4",attrs:{link:"",color:"primary",to:"/settings/account"}},[a("v-list-item-icon",{staticClass:"mr-4"},[a("Icon",{attrs:{icon:"fluent:person-20-filled",width:"26px"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("アカウント")])],1)],1),a("v-list-item",{staticClass:"px-4",attrs:{link:"",color:"primary",to:"/settings/jikkyo"}},[a("v-list-item-icon",{staticClass:"mr-4"},[a("Icon",{staticStyle:{padding:"0 2px"},attrs:{icon:"bi:chat-left-text-fill",width:"26px"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("ニコニコ実況")])],1)],1),a("v-list-item",{staticClass:"px-4",attrs:{link:"",color:"primary",to:"/settings/twitter"}},[a("v-list-item-icon",{staticClass:"mr-4"},[a("Icon",{staticStyle:{padding:"0 1px"},attrs:{icon:"fa-brands:twitter",width:"26px"}})],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Twitter")])],1)],1)],1)],1)],1),a("v-card",{staticClass:"settings ml-5 px-7 py-7 background lighten-1",attrs:{width:"100%"}},[t._t("default")],2)],1)],1)],1)}),Xt=[],Qt=r["a"].extend({name:"Home",components:{Header:z,Navigation:Q}}),Zt=Qt,te=(a("9257"),a("b0af")),ee=a("8860"),ae=a("da13"),ne=a("5d23"),ie=a("34c3"),se=a("f774"),re=Object(d["a"])(Zt,Ut,Xt,!1,null,"23e8093a",null),oe=re.exports;h()(re,{VCard:te["a"],VList:ee["a"],VListItem:ae["a"],VListItemContent:ne["a"],VListItemIcon:ie["a"],VListItemTitle:ne["b"],VNavigationDrawer:se["a"]});var le=r["a"].extend({name:"Home",components:{Base:oe},data:function(){return{tv_streaming_quality:[{text:"1080p （1時間あたり約2.31GB / 5.1Mbps）",value:"1080p"},{text:"810p （1時間あたり約1.92GB / 4.2Mbps）",value:"810p"},{text:"720p （1時間あたり約1.33GB / 3.0Mbps）",value:"720p"},{text:"540p （1時間あたり約1.00GB / 2.2Mbps）",value:"540p"},{text:"480p （1時間あたり約0.74GB / 1.6Mbps）",value:"480p"},{text:"360p （1時間あたり約0.40GB / 0.9Mbps）",value:"360p"},{text:"240p （1時間あたり約0.23GB / 0.5Mbps）",value:"240p"}],panel_display_state:[{text:"常に表示する",value:"AlwaysDisplay"},{text:"常に折りたたむ",value:"AlwaysFold"},{text:"前回の状態を復元する",value:"RestorePreviousState"}],panel_active_tab:[{text:"番組情報タブ",value:"Program"},{text:"チャンネルタブ",value:"Channel"},{text:"コメントタブ",value:"Comment"},{text:"Twitter タブ",value:"Twitter"}],settings:function(){for(var t={},e=0,a=["tv_streaming_quality","panel_display_state","panel_active_tab"];e<a.length;e++){var n=a[e];t[n]=st.getSettingsItem(n)}return t}()}},watch:{settings:{deep:!0,handler:function(){for(var t=0,e=Object.entries(this.settings);t<e.length;t++){var a=Object(bt["a"])(e[t],2),n=a[0],i=a[1];st.setSettingsItem(n,i)}}}}}),ce=le,pe=a("b974"),ue=Object(d["a"])(ce,Wt,Jt,!1,null,null,null),de=ue.exports;h()(ue,{VSelect:pe["a"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"route-container"},[a("Header"),a("main",[a("Navigation"),t._m(0)],1)],1)},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-center align-center w-100"},[a("div",{staticClass:"d-flex justify-center align-center flex-column"},[a("h1",[t._v("404 Not Found")]),a("span",{staticClass:"mt-2"},[t._v("お探しのページは存在しないか、鋭意開発中です。")])])])}],me=r["a"].extend({name:"Home",components:{Header:z,Navigation:Q}}),ve=me,ge=Object(d["a"])(ve,_e,he,!1,null,null,null),fe=ge.exports;r["a"].use(R["a"]);var be=[{path:"/",redirect:"/tv/"},{path:"/tv/",name:"TV Home",component:vt},{path:"/tv/watch/:channel_id",name:"TV Watch",component:zt},{path:"/settings/",redirect:"/settings/general"},{path:"/settings/general",name:"Settings General",component:de},{path:"*",name:"NotFound",component:fe}],ye=new R["a"]({mode:"history",base:"/",routes:be}),we=ye,Ce=a("9483");Object(Ce["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!1,r["a"].use(o["a"],i.a),r["a"].use(l["a"]);var ke=window.matchMedia("(hover: none)").matches?[]:["hover","focus","touch"];c["a"].options.themes.tooltip.showTriggers=ke,c["a"].options.themes.tooltip.hideTriggers=ke,c["a"].options.themes.tooltip.delay.show=0,c["a"].options.offset=[0,7],r["a"].use(c["a"]),r["a"].component("Icon",s["a"]),r["a"].component("v-tab-item-fix",y),r["a"].component("v-tabs-fix",S),r["a"].component("v-tabs-items-fix",T),r["a"].mixin(P),new r["a"]({router:we,vuetify:N,render:function(t){return t(f)}}).$mount("#app")},cee1:function(t,e,a){},de5e:function(t,e,a){"use strict";a("4507")},e02d:function(t,e,a){},e1a4:function(t,e,a){},e7bb:function(t,e,a){},eee7:function(t,e,a){}});
//# sourceMappingURL=app.81df4626.js.map